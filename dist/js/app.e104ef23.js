(function(){var e={6700:function(e,t,a){var i={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":5009,"./gu.js":5009,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":2385,"./th.js":2385,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function o(e){var t=s(e);return a(t)}function s(e){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}o.keys=function(){return Object.keys(i)},o.resolve=s,e.exports=o,o.id=6700},8096:function(e,t,a){"use strict";var i=a(9242),o=a(2483),s=a(7139),l={setCompanies(e,t){e.companies=t},setCompany(e,t){e.company=t},setToken(e,t){e.token=t.token,e.refreshToken=t.refreshToken}};a(7658);const n=10,r="https://timesheet-backend.azurewebsites.net/api/",d=function(){localStorage.removeItem("comid"),localStorage.removeItem("depid"),localStorage.removeItem("empid"),localStorage.removeItem("comidwt"),localStorage.removeItem("depidwt"),localStorage.removeItem("empidwt")},m=function(e){return new Promise((function(t,a){setTimeout((function(){a(new Error(`Server request took too long! Timeout after ${e} second`))}),1e3*e)}))},u=async function(e,t,a,i){const o={method:t,headers:{Accept:"application/json","Content-Type":"application/json",...i,body:JSON.stringify(a)}};null!==a&&(o.body=JSON.stringify(a));const s=fetch(`${r}${e}`,o),l=await Promise.race([s,m(n)]),d=await l.json();if(!l.ok){const e=new Error(d||"Failed to create new user!");throw e}return d};var c={async loadCompanies({commit:e,dispatch:t,rootGetters:a}){await t("auth/checkTokens",null,{root:!0});try{const t=await u("company","GET",null,{Authorization:`Bearer ${a["auth/token"].token}`}),i=[];for(const a in t){const o={ID:t[a].id,Name:t[a].name,Address:t[a].address,City:t[a].city,Country:t[a].country,Email:t[a].email,CompanyManagerId:t[a].companyManagerId,StartTime:t[a].startTime,EndTime:t[a].endTime};i.push(o),e("setCompanies",i)}}catch(i){const e=new Error(i||"Failed to load companies!");throw e}},async loadCompany({commit:e,dispatch:t,rootGetters:a},i){await t("auth/checkTokens",null,{root:!0});try{const t=await u(`company/${i.id}`,"GET",null,{Authorization:`Bearer ${a["auth/token"].token}`}),o={ID:t.id,Name:t.name,Address:t.address,City:t.city,Country:t.country,Email:t.email,CompanyManagerId:t.companyManagerId,StartTime:t.startTime,EndTime:t.endTime};e("setCompany",o)}catch(o){const e=new Error(o||"Failed to load companies!");throw e}},async addCompany({dispatch:e,rootGetters:t},a){await e("auth/checkTokens",null,{root:!0});const i={Name:a.comName,Address:a.comAddress,City:a.comCity,Country:a.comCountry,Email:a.comEmail,StartTime:a.comStartTime,EndTime:a.comEndTime};try{await u("company","POST",i,{Authorization:`Bearer ${t["auth/token"].token}`})}catch(o){const e=new Error(o||"Failed to add company!");throw e}},async editCompany({dispatch:e,rootGetters:t},a){await e("auth/checkTokens",null,{root:!0});const i={ID:a.comId,Name:a.comName,Address:a.comAddress,City:a.comCity,Country:a.comCountry,Email:a.comEmail,CompanyManagerId:localStorage.getItem("userId"),StartTime:a.comStartTime,EndTime:a.comEndTime};try{await u("company","PUT",i,{Authorization:`Bearer ${t["auth/token"].token}`})}catch(o){const e=new Error(o||"Failed to edit company!");throw e}},async deleteCompany({dispatch:e,rootGetters:t},a){await e("auth/checkTokens",null,{root:!0});try{await u(`company/${a.id}?targetDepartmentId=${a.targetDepartmentId}&&deleteEmployees=${a.deleteEmployees}`,"DELETE",null,{Authorization:`Bearer ${t["auth/token"].token}`})}catch(i){const e=new Error(i||"Failed to delete company!");throw e}}},p={companies(e){return e.companies},hasCompanies(e){return!!e.companies&&e.companies.length>0},company(e){return e.company},hasCompany(e){return!!e.company}},h={namespaced:!0,state(){return{companies:[],company:null}},mutations:l,getters:p,actions:c},y={setDepartments(e,t){e.departments=t},setDepartment(e,t){e.department=t}},g={async loadDepartments({commit:e,dispatch:t,rootGetters:a},i){await t("auth/checkTokens",null,{root:!0});try{const t=await u(`department/${i.comid}`,"GET",null,{Authorization:`Bearer ${a["auth/token"].token}`}),o=[];for(const a in t){const i={ID:t[a].id,Name:t[a].name};o.push(i),e("setDepartments",o)}}catch(o){const e=new Error(o||"Failed to load departments!");throw e}},async loadDepartment({commit:e,dispatch:t,rootGetters:a},i){await t("auth/checkTokens",null,{root:!0});try{const t=await u(`department/${i.comid}/${i.depid}`,"GET",null,{Authorization:`Bearer ${a["auth/token"].token}`}),o={ID:t.id,Name:t.name};e("setDepartment",o)}catch(o){const e=new Error(o||"Failed to load department data!");throw e}},async addDepartment({dispatch:e,rootGetters:t},a){await e("auth/checkTokens",null,{root:!0});try{const e={Name:a.depName,CompanyID:a.comId};await u("department","POST",e,{Authorization:`Bearer ${t["auth/token"].token}`})}catch(i){const e=new Error(i||"Failed to add department!");throw e}},async editDepartment({dispatch:e,rootGetters:t},a){await e("auth/checkTokens",null,{root:!0});try{const e={ID:a.depId,Name:a.depName,CompanyID:a.comId};await u("department","PUT",e,{Authorization:`Bearer ${t["auth/token"].token}`})}catch(i){const e=new Error(i||"Failed to edit department data!");throw e}},async deleteDepartment({dispatch:e,rootGetters:t},a){await e("auth/checkTokens",null,{root:!0});try{await u(`department/${a.depId}?deleteEmployees=${a.deleteEmployees}&&targetDepId=${a.targetDepId}`,"DELETE",null,{Authorization:`Bearer ${t["auth/token"].token}`})}catch(i){const e=new Error(i||"Failed to delete department!");throw e}}},w={departments(e){return e.departments},hasDepartments(e){return!!e.departments&&e.departments.length>0},department(e){return e.department},hasDepartment(e){return!!e.department}},f={namespaced:!0,state(){return{departments:[],department:null}},mutations:y,getters:w,actions:g},k={setEmployees(e,t){e.emCount=t.emCount,e.employees=t.employees},setEmployee(e,t){e.employee=t}},v={async loadEmployee({commit:e,dispatch:t,rootGetters:a},i){await t("auth/checkTokens",null,{root:!0});try{const t=await u(`employee/${i.empid}`,"GET",null,{Authorization:`Bearer ${a["auth/token"].token}`}),o={ID:t.id,FirstName:t.firstName,LastName:t.lastName,JobTitle:t.jobTitle,Degree:t.degree,Email:t.email,Address:t.address,Phone:t.phone,DateOfBirth:t.dateOfBirth,StartOfEmployment:t.startOfEmployment,HourlyRate:t.hourlyRate,DepartmentId:t.departmentId};e("setEmployee",o)}catch(o){const e=new Error(o||"Failed to load employee data!");throw e}},async loadEmployees({commit:e,dispatch:t,rootGetters:a},i){await t("auth/checkTokens",null,{root:!0});try{const t=await u(`employee/${i.link}`,"GET",null,{Authorization:`Bearer ${a["auth/token"].token}`}),o=[];for(const e in t.toReturn){const a={ID:t.toReturn[e].id,FirstName:t.toReturn[e].firstName,LastName:t.toReturn[e].lastName,JobTitle:t.toReturn[e].jobTitle,Degree:t.toReturn[e].degree,Address:t.toReturn[e].address,Email:t.toReturn[e].email,Phone:t.toReturn[e].phone,DateOfBirth:t.toReturn[e].dateOfBirth,StartOfEmployment:t.toReturn[e].startOfEmployment,HourlyRate:t.toReturn[e].hourlyRate,DepartmentId:t.toReturn[e].departmentId,Department:t.toReturn[e].department};o.push(a)}e("setEmployees",{employees:o,emCount:t.count})}catch(o){const e=new Error(o||"Failed to load employees!");throw e}},async addEmployee({dispatch:e,rootGetters:t},a){await e("auth/checkTokens",null,{root:!0});try{const e={FirstName:a.empFirstName,LastName:a.empLastName,Address:a.empAddress,Email:a.empEmail,Phone:a.empPhone,JobTitle:a.empJobTitle,Degree:a.empDegree,DateOfBirth:a.empDateOfBirth.split(".").reverse().join("/"),StartOfEmployment:a.empStartOfEmployment.split(".").reverse().join("/"),HourlyRate:a.empHourlyRate,DepartmentId:a.empDepartmentId};await u("employee","POST",e,{Authorization:`Bearer ${t["auth/token"].token}`})}catch(i){const e=new Error(i||"Failed to add employee!");throw e}},async editEmployee({dispatch:e,rootGetters:t},a){await e("auth/checkTokens",null,{root:!0});try{const e={ID:a.empId,DepartmentId:a.empDepartmentId,FirstName:a.empFirstName,LastName:a.empLastName,JobTitle:a.empJobTitle,Degree:a.empDegree,Address:a.empAddress,Email:a.empEmail,Phone:a.empPhone,DateOfBirth:a.empDateOfBirth.split(".").reverse().join("/"),StartOfEmployment:a.empStartOfEmployment.split(".").reverse().join("/"),HourlyRate:a.empHourlyRate};await u("employee","PUT",e,{Authorization:`Bearer ${t["auth/token"].token}`})}catch(i){const e=new Error(i||"Failed to edit employee data!");throw e}},async deleteEmployee({dispatch:e,rootGetters:t},a){await e("auth/checkTokens",null,{root:!0});try{await u(`employee/${a.empId}`,"DELETE",null,{Authorization:`Bearer ${t["auth/token"].token}`})}catch(i){const e=new Error(i||"Failed to delete employee!");throw e}}},_={employees(e){return e.employees},hasEmployees(e){return!!e.employees&&e.employees.length>0},employee(e){return e.employee},hasEmployee(e){return!!e.employee},numberOfEmployees(e){return e.emCount}},D={namespaced:!0,state(){return{employees:[],emCount:0,employee:null}},mutations:k,getters:_,actions:v},b={setWorkingTimes(e,t){e.workingTimes=t.wts,e.wtCount=t.wtcount},setWorkingTime(e,t){e.workingTime=t}},E={async loadWorkingTimes({commit:e,dispatch:t,rootGetters:a},i){await t("auth/checkTokens",null,{root:!0});try{const t=i.link,o=await u(`${t}${i.id}?PageNumber=${i.pageNumber}&PageSize=${i.pageSize}`,"GET",null,{Authorization:`Bearer ${a["auth/token"].token}`}),s=[];for(const e in o.toReturn){const t={ID:o.toReturn[e].id,Date:o.toReturn[e].date,StartTime:o.toReturn[e].startTime,EndTime:o.toReturn[e].endTime,EmployeeID:o.toReturn[e].employeeID,Employee:o.toReturn[e].employee};s.push(t)}e("setWorkingTimes",{wts:s,wtcount:o.count})}catch(o){const e=new Error(o||"Failed to load working times!");throw e}},async loadWorkingTime({commit:e,dispatch:t,rootGetters:a},i){await t("auth/checkTokens",null,{root:!0});try{const t=await u(`workingtime/GetWorkingTime/${i}`,"GET",null,{Authorization:`Bearer ${a["auth/token"].token}`}),o={ID:t.id,Employee:t.employee,WtDate:t.date,StartTime:t.startTime,EndTime:t.endTime};e("setWorkingTime",o)}catch(o){const e=new Error(o||"Failed to load working time data!");throw e}},async addWorkingTimes({dispatch:e,rootGetters:t},a){await e("auth/checkTokens",null,{root:!0});try{const e=a.employees.filter((e=>e.didWork)).map((e=>({EmployeeId:e.id,Date:e.date.split(".").reverse().join("/"),StartTime:e.startTime,EndTime:e.endTime})));await u("workingtime/createmultiple/","POST",e,{Authorization:`Bearer ${t["auth/token"].token}`})}catch(i){let e=i.replace("That","Some of those").replace("employee","employees").replace("has","have");throw e=new Error(i||"Failed to add multiple working times!"),e}},async addWorkingTime({dispatch:e,rootGetters:t},a){await e("auth/checkTokens",null,{root:!0});try{const e={EmployeeId:a.wtEmployeeId,Date:a.wtDate.split(".").reverse().join("/"),StartTime:a.wtStartTime,EndTime:a.wtEndTime};await u("workingtime/create","POST",e,{Authorization:`Bearer ${t["auth/token"].token}`})}catch(i){const e=new Error(i||"Failed to add workingtime!");throw e}},async deleteWorkingTime({dispatch:e,rootGetters:t},a){await e("auth/checkTokens",null,{root:!0});try{await u(`workingtime/deleteWorkingTime/${a.id}`,"DELETE",null,{Authorization:`Bearer ${t["auth/token"].token}`})}catch(i){const e=new Error(i||"Failed to delete working time!");throw e}},async editWorkingTime({dispatch:e,rootGetters:t},a){await e("auth/checkTokens",null,{root:!0});try{const e={ID:a.wtId,Date:a.wtDate.split(".").reverse().join("/"),StartTime:a.wtStartTime,EndTime:a.wtEndTime,EmployeeId:a.wtEmployeeId};await u("workingtime/editWorkingTime","PUT",e,{Authorization:`Bearer ${t["auth/token"].token}`})}catch(i){const e=new Error(i||"Failed to edit working time data!");throw e}}},I={workingTimes(e){return e.workingTimes},hasWorkingTimes(e){return!!e.workingTimes&&e.workingTimes.length>0},workingTime(e){return e.workingTime},hasWorkingTime(e){return!!e.workingTime},numberOfWorkingTimes(e){return e.wtCount}},T={namespaced:!0,state(){return{workingTimes:[],wtCount:0,workingTime:null}},mutations:b,getters:I,actions:E},C={setUser(e,t){e.userId=t.Id},setUserLoginData(e,t){e.userId=t.id,e.token=t.tokenValue.token,e.refreshToken=t.tokenValue.refreshToken,e.expiresAt=t.tokenValue.expiresAt},setUserData(e,t){e.userId=t.id,e.token=t.token,e.refreshToken=t.refreshToken,e.expiresAt=t.expiresAt},setToken(e,t){e.token=t.token,e.refreshToken=t.refreshToken,e.expiresAt=t.expiresAt},setCurrentUser(e,t){e.currentUser=t},logout(e){e.userId=null,e.token="",e.refreshToken="",e.expiresAt=0,localStorage.removeItem("userId"),localStorage.removeItem("refreshToken"),localStorage.removeItem("token"),localStorage.removeItem("expiresAt")}},S={async register(e){try{await u("Authentication/register-user","POST",e,{})}catch(t){const e=new Error(t||"Failed to create new user!");throw e}},async getUser({commit:e,dispatch:t,rootGetters:a}){await t("auth/checkTokens",null,{root:!0});try{const t=await u("Authentication/get-user","GET",null,{Authorization:`Bearer ${a["auth/token"].token}`}),i={FirstName:t.firstName,LastName:t.lastName,Email:t.email};e("setCurrentUser",i)}catch(i){const e=new Error(i||"Failed to load user data!");throw e}},async editUser({dispatch:e,rootGetters:t},a){await e("auth/checkTokens",null,{root:!0});try{await u("Authentication/edit-user","PUT",a,{Authorization:`Bearer ${t["auth/token"].token}`})}catch(i){const e=new Error(i||"Failed to update user data!");throw e}},async login({commit:e},t){try{const a=await u("Authentication/login-user","POST",t,{});e("setUserLoginData",a),localStorage.setItem("userId",a.id),localStorage.setItem("token",a.tokenValue.token),localStorage.setItem("refreshToken",a.tokenValue.refreshToken),localStorage.setItem("expiresAt",a.tokenValue.expiresAt)}catch(a){const e=new Error(a||"Failed to login!");throw e}},async logout(e){e.commit("logout")},setUserData(e,t){e.commit("setUserData",t)},async checkTokens({commit:e,getters:t}){if(null!==t.userId&&new Date(t.expiresAt).getTime()+12e4<=Date.now())try{const a=await u("authentication/refresh-token","POST",t.token,{});e("setToken",a)}catch(a){const e=new Error(a||"Failed to refresh token!");throw e}}},$={isAuthenticated(e){return!!e.userId&&!!e.token},token(e){return{token:e.token,refreshToken:e.refreshToken}},expiresAt(e){return e.expiresAt},currentUser(e){return e.currentUser},hasCurrentUser(e){return!!e.currentUser}},V={namespaced:!0,state(){return{userId:null,expiresAt:0,refreshToken:"",token:"",currentUser:null}},mutations:C,actions:S,getters:$},N={setStatistics(e,t){e.statistics=t}},j={async loadStatistics({commit:e,dispatch:t,rootGetters:a},i){await t("auth/checkTokens",null,{root:!0});try{const t=await u(`calculation/${i.comid}?year=${i.year}&month=${i.month}`,"GET",null,{Authorization:`Bearer ${a["auth/token"].token}`}),o=[];for(const e in t){const a={ID:t[e].id,FirstName:t[e].firstName,LastName:t[e].lastName,Department:t[e].department,HourlyRate:t[e].hourlyRate,WorkingDays:t[e].workingDays,RegularWorkingHours:t[e].regularWorkingHours,OvertimeHours:t[e].overtimeHours,Earnings:t[e].earnings};o.push(a)}e("setStatistics",o)}catch(o){const e=new Error(o||"Failed to load statistics from company!");throw e}}},A={hasStatistics(e){return!!e.statistics&&e.statistics.length>0},statistics(e){return e.statistics}},W={namespaced:!0,state(){return{statistics:[]}},mutations:N,getters:A,actions:j},U={},F={async generateData({dispatch:e,rootGetters:t},a){await e("auth/checkTokens",null,{root:!0});try{await u(`randomgenerate/${a.comid}/${a.numberOfEmployees}/${a.numberOfDays}`,"POST",null,{Authorization:`Bearer ${t["auth/token"].token}`})}catch(i){const e=new Error(i||"Failed to generate random data!");throw e}}},L={},M={namespaced:!0,state(){return{}},mutations:U,getters:L,actions:F};const P=(0,s.MT)({modules:{companies:h,departments:f,employees:D,workingTimes:T,auth:V,statistics:W,generate:M}});var O=P,z=a(3396),q=a.p+"img/profile.09c153d9.jpg";const B=e=>((0,z.dD)("data-v-02ec7bf6"),e=e(),(0,z.Cn)(),e),x={class:"links"},Y={style:{width:"50%"}},R=B((()=>(0,z._)("h1",null,"Installation manual",-1))),H=B((()=>(0,z._)("h1",null,"User manual",-1))),Z=B((()=>(0,z._)("p",null,[(0,z._)("a",{href:"https://www.linkedin.com/in/aleksandar-matic-8a7b21120/",target:"_blank"},[(0,z._)("img",{class:"profile",src:q,alt:""})]),(0,z.Uk)(" Hello, everyone! My name is "),(0,z._)("b",null,"Aleksandar Matic"),(0,z.Uk)(", and I'm currently a high school professor of Information Technologies aiming to start a new career path as a "),(0,z._)("b",null,"web developer"),(0,z.Uk)(". I graduated on "),(0,z._)("b",null,"Faculty of Information Technologies"),(0,z.Uk)(" on "),(0,z._)("b",null,"Slobomir P University"),(0,z.Uk)(" and have been in education department for the last 12 years "),(0,z._)("b",null,"teaching programming languages, wed development, databases and a little bit of web design"),(0,z.Uk)(". I've decided to switch my current career path to development, so, here I am. My skills are both backend and frontend oriented, meaning I'm aiming to be a full stack developer. They include (but are not limited to) the following technologies: ")],-1))),J=B((()=>(0,z._)("ol",null,[(0,z._)("li",null,[(0,z._)("b",null,"C#"),(0,z._)("ol",{type:"a"},[(0,z._)("li",null,"ASP.NET, ASP.NET core, ASP.NET MVC, Web API"),(0,z._)("li",null,"WPF, MVVM, .NET6"),(0,z._)("li",null,"RazorPages")])]),(0,z._)("li",null,[(0,z._)("b",null,"JavaScript"),(0,z._)("ol",{type:"a"},[(0,z._)("li",null,"Vanilla JS, ES6"),(0,z._)("li",null,"TypeScript"),(0,z._)("li",null,"Vue JS")])]),(0,z._)("li",null,[(0,z._)("b",null,"TSQL")]),(0,z._)("li",null,[(0,z._)("b",null,"Others"),(0,z._)("ol",{type:"a"},[(0,z._)("li",null,"HTML, CSS, Bootstrap, REST, Git, JSON…")])])],-1))),G=B((()=>(0,z._)("p",null,[(0,z.Uk)(" Now, let's not make this longer than it needs to be. In case you need some other info or contant data, feel free to visit my "),(0,z._)("a",{href:"https://www.linkedin.com/in/aleksandar-matic-8a7b21120/",target:"_blank"},"LinkedIn profile"),(0,z.Uk)(". Let's get to the instruction itself, shall we? ")],-1))),K=B((()=>(0,z._)("p",null," Before I dive into installation, let me briefly explain technologies used in this project for my potential future employees: ",-1))),Q=B((()=>(0,z._)("ol",null,[(0,z._)("li",null,[(0,z._)("b",null,"Backend"),(0,z._)("ol",{type:"a"},[(0,z._)("li",null,"ASP.NET Web API"),(0,z._)("li",null,"Entity Framework"),(0,z._)("li",null,"AutoMapper for converting models to DTOs and vice-versa"),(0,z._)("li",null,"Repository Pattern for organizing database connection"),(0,z._)("li",null,"Code-first migrations"),(0,z._)("li",null,"Unit of Work pattern with some small modifications"),(0,z._)("li",null,"JWT for authentication"),(0,z._)("li",null,"Refresh token")])]),(0,z._)("li",null,[(0,z._)("b",null,"Frontend"),(0,z._)("ol",{type:"a"},[(0,z._)("li",null,"Vue.js framework"),(0,z._)("li",null,"Vuex for organizing data"),(0,z._)("li",null," Router for managing routes, redirections and authentication guards "),(0,z._)("li",null,"Standard HTML and CSS for some basic design")])]),(0,z._)("li",null,[(0,z._)("b",null,"Database"),(0,z._)("ol",{type:"a"},[(0,z._)("li",null,"TSQL server")])])],-1))),X=B((()=>(0,z._)("h3",null,"Required software installation guide, if you want to use it soley on your own computer",-1))),ee=B((()=>(0,z._)("h3",null,"Application user manual",-1)));function te(e,t,a,i,o,s){const l=(0,z.up)("router-link"),n=(0,z.up)("base-card");return(0,z.wg)(),(0,z.iD)("div",null,[(0,z.Wm)(n,null,{default:(0,z.w5)((()=>[(0,z._)("div",x,[(0,z._)("table",Y,[(0,z._)("tr",null,[(0,z._)("th",null,[(0,z.Wm)(l,{to:"/installationmanual"},{default:(0,z.w5)((()=>[R])),_:1})]),(0,z._)("th",null,[(0,z.Wm)(l,{to:"/usermanual"},{default:(0,z.w5)((()=>[H])),_:1})])])])]),Z,J,G,K,Q,(0,z._)("p",null,[(0,z.Uk)("Proceed to: "),(0,z.Wm)(l,{to:"/installationmanual"},{default:(0,z.w5)((()=>[X])),_:1}),(0,z.Wm)(l,{to:"/usermanual"},{default:(0,z.w5)((()=>[ee])),_:1})])])),_:1})])}var ae={created(){d()}},ie=a(89);const oe=(0,ie.Z)(ae,[["render",te],["__scopeId","data-v-02ec7bf6"]]);var se=oe,le=a.p+"img/App01.94c69e6d.jpg",ne=a.p+"img/App02.3b350596.jpg",re=a.p+"img/App03.ac052f19.jpg",de=a.p+"img/App04.4aa648a5.jpg",me=a.p+"img/App05.dc5a7a37.jpg",ue=a.p+"img/App06.0de32548.jpg",ce=a.p+"img/App07.72577e47.jpg",pe=a.p+"img/App08.ecc1acea.jpg";const he=e=>((0,z.dD)("data-v-d0f9668e"),e=e(),(0,z.Cn)(),e),ye={class:"links"},ge={style:{width:"100%"}},we=he((()=>(0,z._)("h1",null,"About me",-1))),fe=he((()=>(0,z._)("h1",null,"Installation manual",-1))),ke=he((()=>(0,z._)("p",null," Usage is quite simple, really. The app is meant to take care of the working times of employees in any company, along wth the stats displaying working hours, overtime hours and earned money. ",-1))),ve=he((()=>(0,z._)("p",null," Once you press Login/Signup link in the upper right corner, you will get a possibility to either login, or register. ",-1))),_e=he((()=>(0,z._)("p",null,[(0,z._)("img",{src:le,alt:""})],-1))),De=he((()=>(0,z._)("p",null," Fill in the form the way you want (data, of course, does not have to be accurate or real) and you just made yourself a profile! The app will redirect you to the login page. After you login, you can add a company (or more of them). ",-1))),be=he((()=>(0,z._)("p",null,' Every company you own will be displayed on the "All companies" link in the navigation bar. Once you click on it, you will get something like this: ',-1))),Ee=he((()=>(0,z._)("p",null,[(0,z._)("img",{src:ne,alt:""})],-1))),Ie=he((()=>(0,z._)("p",null,' In order to see the employees or departments, you must click on the "Details" button on the right side of the company element. You\'ll get something like this: ',-1))),Te=he((()=>(0,z._)("p",null,[(0,z._)("img",{src:re,alt:""})],-1))),Ce=he((()=>(0,z._)("p",null,[(0,z.Uk)(" You can now see that extra options appeared on the nav bar. "),(0,z._)("ul",null,[(0,z.Uk)("By pressing the self explanatory buttons in the lower part of the screen, you can do the following: "),(0,z._)("li",null,"Edit company data"),(0,z._)("li",null,"See the department list"),(0,z._)("li",null,"See the list of employees"),(0,z._)("li",null,"See the working times of all company workers"),(0,z._)("li",null,"See the calculations"),(0,z._)("li",null,"Delete company")])],-1))),Se=he((()=>(0,z._)("p",null," Edit company is pretty much self-explanatory. If you tap on the Departments button, you'll get something like this: ",-1))),$e=he((()=>(0,z._)("p",null,[(0,z._)("img",{src:de,alt:""})],-1))),Ve=he((()=>(0,z._)("p",null,"Pressing the Details button will allow you to see everything about that department, as well as edit it.",-1))),Ne=he((()=>(0,z._)("p",null,[(0,z._)("img",{src:me,alt:""})],-1))),je=he((()=>(0,z._)("p",null," Now, I'm perfectly aware, if you're just checking out the app, you're not willing to add, like, 20 workers and, like, 1 month of their working times day by day, so I made a possibility to generate them randomly. Once you open Employees list, you'll be able to generate certain ammount of employees per department you made and a certain number of working days by cliking on the \"randomly generate both employees and their working times\", just below the nav bar. Their working hours will also be randomly generated, in range from 6 do 10. Now, if you ether decide to see all the employees from the company, or just the specific ones from some department, the appereance will be the same. As you can see, you can view data about the employee, as well as display and filter them by various criteria and numbers. ",-1))),Ae=he((()=>(0,z._)("p",null,[(0,z._)("img",{src:ue,alt:""})],-1))),We=he((()=>(0,z._)("p",null," In case you want to see their working times, you may do so from the company menu (and see working times of all employees), from the department menu (and see only those under that department), or individually, from the employee details page. ",-1))),Ue=he((()=>(0,z._)("p",null,[(0,z._)("img",{src:ce,alt:""})],-1))),Fe=he((()=>(0,z._)("p",null,' If you decide to see statistic for any given month, you may do so by clicking on the "Statistics" button from Company Details page. You will get something like this. Just select the period you need the stats for. ',-1))),Le=he((()=>(0,z._)("p",null,[(0,z._)("img",{src:pe,alt:""})],-1))),Me=he((()=>(0,z._)("p",null,[(0,z.Uk)("And that's it! If you notice some errors or you want to contact me, you can mail me to "),(0,z._)("a",{href:"mailto:aleksandar.matic986@gmail.com"},"aleksandar.matic986@gmail.com"),(0,z.Uk)(". Cheers!")],-1)));function Pe(e,t){const a=(0,z.up)("router-link"),i=(0,z.up)("base-card");return(0,z.wg)(),(0,z.iD)("div",null,[(0,z.Wm)(i,null,{default:(0,z.w5)((()=>[(0,z._)("div",ye,[(0,z._)("table",ge,[(0,z._)("tr",null,[(0,z._)("th",null,[(0,z.Wm)(a,{to:"/about"},{default:(0,z.w5)((()=>[we])),_:1})]),(0,z._)("th",null,[(0,z.Wm)(a,{to:"/installationmanual"},{default:(0,z.w5)((()=>[fe])),_:1})])])])]),ke,ve,_e,De,be,Ee,Ie,Te,Ce,Se,$e,Ve,Ne,je,Ae,We,Ue,Fe,Le,Me])),_:1})])}const Oe={},ze=(0,ie.Z)(Oe,[["render",Pe],["__scopeId","data-v-d0f9668e"]]);var qe=ze,Be=a.p+"img/SQL1.57401e13.jpg",xe=a.p+"img/SQL2.394c84af.jpg",Ye=a.p+"img/SQL3.05f37746.jpg",Re=a.p+"img/VS1.303f692f.jpg";const He=e=>((0,z.dD)("data-v-796727dc"),e=e(),(0,z.Cn)(),e),Ze={class:"links"},Je={style:{width:"100%"}},Ge=He((()=>(0,z._)("h1",null,"About me",-1))),Ke=He((()=>(0,z._)("h1",null,"User manual",-1))),Qe=He((()=>(0,z._)("p",null,[(0,z.Uk)(" First of all, "),(0,z._)("b",null,"this is a demo app"),(0,z.Uk)(". That means it's not created to actually solve some major issues, or be distributed among others, but to demonstrate my personal capabilities of creating certain type of projects and actually work in a development department. Having that in mind, I would suggest you "),(0,z._)("b",null,"don't pay too much of attention to the design itself"),(0,z.Uk)(". I'm not a designer and I'm using only a little bit of prettier design than the basic one. ")],-1))),Xe=He((()=>(0,z._)("p",null,[(0,z.Uk)(" Head down to my "),(0,z._)("b",null,[(0,z._)("a",{href:"https://github.com/aleksbn",target:"_blank"},"git repository")]),(0,z.Uk)(" and download this "),(0,z._)("b",null,[(0,z._)("a",{href:"https://github.com/aleksbn/TimeSheetApp",target:"_blank"},"project")]),(0,z.Uk)(". You can notice there are both backend and frontend parts of this app. The SPA (single page application) is frontend, and Backend is, well, backend. What do you need in order to start the app? You need "),(0,z._)("b",null,"an IIS, a SQL server and a node.js server"),(0,z.Uk)(". There is no specific sequence of installation you suppose to follow. You can install all of them in any sequence you want to. ")],-1))),et=He((()=>(0,z._)("p",null," This app is just for the demo purposes, so this manual is about starting it on your own computer. If you actually like the project and see fits to use it, you can contact me and require version adapted to your own needs. So, here we go… ",-1))),tt=He((()=>(0,z._)("h3",null,"1. SQL server",-1))),at=He((()=>(0,z._)("p",null,[(0,z.Uk)(" Download both "),(0,z._)("a",{href:"https://go.microsoft.com/fwlink/p/?linkid=2216019&clcid=0x409&culture=en-us&country=us"},"server"),(0,z.Uk)(" and "),(0,z._)("a",{href:"https://aka.ms/ssmsfullsetup"},"server management studio"),(0,z.Uk)(" and install them. In case you need help with the installation, here’s the link: ")],-1))),it=He((()=>(0,z._)("div",{style:{"text-align":"center"}},[(0,z._)("iframe",{width:"640",height:"360",src:"https://www.youtube.com/embed/kGdTg-vGs-E",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""})],-1))),ot=He((()=>(0,z._)("p",null," After the installation, open SQL server management studio and log in with your credentials. You'll get the following window: ",-1))),st=He((()=>(0,z._)("p",null,[(0,z._)("img",{src:Be,style:{width:"100%"},alt:""})],-1))),lt=He((()=>(0,z._)("p",null," Open Databases folder in the Object Explorer on the left side of the window. ",-1))),nt=He((()=>(0,z._)("p",null,[(0,z._)("img",{src:xe,style:{width:"100%"},alt:""})],-1))),rt=He((()=>(0,z._)("p",null,[(0,z.Uk)(" Right-click on the Databses and select "),(0,z._)("b",null,"“New database…”"),(0,z.Uk)(" and type in "),(0,z._)("b",null,"“TimeSheetDB”"),(0,z.Uk)(" in the "),(0,z._)("b",null,"“Database name”"),(0,z.Uk)(" field: ")],-1))),dt=He((()=>(0,z._)("p",null,[(0,z._)("img",{src:Ye,style:{width:"100%"},alt:""})],-1))),mt=He((()=>(0,z._)("h3",null,"2. Next, you need IIS server to mount the backend app.",-1))),ut=He((()=>(0,z._)("p",null,[(0,z.Uk)(" I would suggest installing Visual Studio as it is the easiest configuration process, plus, you can edit code to suits your needs. Here's the "),(0,z._)("a",{href:"https://visualstudio.microsoft.com/thank-you-downloading-visual-studio/?sku=Community&channel=Release&version=VS2022&source=VSLandingPage&cid=2030&passive=false",target:"_blank"},"link"),(0,z.Uk)(" for downloading, and here's the instruction video: ")],-1))),ct=He((()=>(0,z._)("div",{style:{"text-align":"center"}},[(0,z._)("iframe",{width:"640",height:"360",src:"https://www.youtube.com/embed/-FhQM01qsBY",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""})],-1))),pt=He((()=>(0,z._)("p",null,[(0,z.Uk)(" Once you have it installed, start the solution file under the "),(0,z._)("b",null,"TimeSheetApp.sln"),(0,z.Uk)(" name and you'll see the "),(0,z._)("b",null,"backend"),(0,z.Uk)(" project with all of it's files. ")],-1))),ht=He((()=>(0,z._)("p",null,[(0,z.Uk)(" Open the file "),(0,z._)("b",null,"“appsettings.json”"),(0,z.Uk)(" and edit the line number 10 "),(0,z._)("b",null,"(DefaultConnection)"),(0,z.Uk)(". ")],-1))),yt=He((()=>(0,z._)("p",null,[(0,z._)("img",{src:Re,style:{width:"100%"},alt:""})],-1))),gt=He((()=>(0,z._)("p",null,[(0,z.Uk)(" Instead of my "),(0,z._)("b",null,"DataSource"),(0,z.Uk)(", you need to paste in "),(0,z._)("b",null,"your server name"),(0,z.Uk)(". You can find it if your "),(0,z._)("b",null,"SQL server management studio"),(0,z.Uk)(", when you right click on the "),(0,z._)("b",null,"server name"),(0,z.Uk)(" in "),(0,z._)("b",null,"Object Explorer"),(0,z.Uk)(" and select "),(0,z._)("b",null,"Properties"),(0,z.Uk)(". ")],-1))),wt=He((()=>(0,z._)("p",null,[(0,z.Uk)(" That's it, as fas as the backend goes! Just press the F5 (make sure the "),(0,z._)("b",null,"https profile"),(0,z.Uk)(" is selected) and you're done! "),(0,z._)("b",null,"IIS"),(0,z.Uk)(" is working! ")],-1))),ft=He((()=>(0,z._)("h3",null,"3. The final part is installing Node.js for the frontend part.",-1))),kt=He((()=>(0,z._)("p",null,[(0,z.Uk)(" Here's the "),(0,z._)("a",{href:"https://nodejs.org/dist/v18.16.1/node-v18.16.1-x64.msi",target:"_blank"},"link"),(0,z.Uk)(" for download, and the instructional video: ")],-1))),vt=He((()=>(0,z._)("div",{style:{"text-align":"center"}},[(0,z._)("iframe",{width:"640",height:"360",src:"https://www.youtube.com/embed/Gu9KdbpzSvk",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""})],-1))),_t=He((()=>(0,z._)("p",null,[(0,z.Uk)(" When you're done with the installation, start it from either the "),(0,z._)("b",null,"terminal in your frontend code editor"),(0,z.Uk)(" (I'm using Visual Studio Code), or the "),(0,z._)("b",null,"basic command prompt"),(0,z.Uk)(". "),(0,z._)("i",null,"Just make sure you're in the frontend project folder before starting it."),(0,z.Uk)(" You can start it with typing in the following command (for windows users): "),(0,z._)("b",null,"npm run serve")],-1))),Dt=He((()=>(0,z._)("p",null,[(0,z.Uk)(" And that's it! Once you're done with all of this, open browser and type in "),(0,z._)("a",{href:"http://localhost:8080/",target:"_blank"},"http://localhost:8080/"),(0,z.Uk)(" and it will open the app. ")],-1)));function bt(e,t){const a=(0,z.up)("router-link"),i=(0,z.up)("base-card");return(0,z.wg)(),(0,z.iD)("div",null,[(0,z.Wm)(i,null,{default:(0,z.w5)((()=>[(0,z._)("div",Ze,[(0,z._)("table",Je,[(0,z._)("tr",null,[(0,z._)("th",null,[(0,z.Wm)(a,{to:"/about"},{default:(0,z.w5)((()=>[Ge])),_:1})]),(0,z._)("th",null,[(0,z.Wm)(a,{to:"/usermanual"},{default:(0,z.w5)((()=>[Ke])),_:1})])])])]),Qe,Xe,et,tt,at,it,ot,st,lt,nt,rt,dt,mt,ut,ct,pt,ht,yt,gt,wt,ft,kt,vt,_t,Dt])),_:1})])}const Et={},It=(0,ie.Z)(Et,[["render",bt],["__scopeId","data-v-796727dc"]]);var Tt=It,Ct=a(2268);const St=(0,z._)("section",null,[(0,z._)("h2",{style:{"text-align":"center"}},"Add a new company")],-1),$t={key:0};function Vt(e,t,a,i,o,s){const l=(0,z.up)("base-dialog"),n=(0,z.up)("base-spinner"),r=(0,z.up)("company-form");return(0,z.wg)(),(0,z.iD)("div",null,[St,(0,z.Wm)(l,{show:!!o.error,title:"An error occured",showClose:!0,onClose:s.handleError},{default:(0,z.w5)((()=>[(0,z._)("p",null,(0,Ct.zw)(o.error),1)])),_:1},8,["show","onClose"]),o.isLoading?((0,z.wg)(),(0,z.iD)("div",$t,[(0,z.Wm)(n)])):(0,z.kq)("",!0),(0,z._)("section",null,[(0,z.Wm)(r,{onSaveData:s.saveData,Mode:this.EditMode},null,8,["onSaveData","Mode"])])])}const Nt=e=>((0,z.dD)("data-v-6fdced5a"),e=e(),(0,z.Cn)(),e),jt={key:0,class:"form-control"},At=Nt((()=>(0,z._)("label",{for:"ID"},"ID:",-1))),Wt=["value"],Ut=Nt((()=>(0,z._)("label",{for:"Name"},"Name:",-1))),Ft=["disabled"],Lt={key:1,class:"invalid"},Mt=Nt((()=>(0,z._)("label",{for:"Address"},"Address:",-1))),Pt=["disabled"],Ot={key:2,class:"invalid"},zt=Nt((()=>(0,z._)("label",{for:"City"},"City:",-1))),qt=["disabled"],Bt={key:3,class:"invalid"},xt=Nt((()=>(0,z._)("label",{for:"Country"},"Country:",-1))),Yt=["disabled"],Rt={key:4,class:"invalid"},Ht=Nt((()=>(0,z._)("label",{for:"Email"},"Email:",-1))),Zt=["disabled"],Jt={key:5,class:"invalid"},Gt=Nt((()=>(0,z._)("label",{for:"StartTime"},"Start time:",-1))),Kt=["disabled"],Qt=Nt((()=>(0,z._)("label",{for:"EndTime"},"End time:",-1))),Xt=["disabled"],ea={key:6,class:"invalid"},ta={key:7};function aa(e,t,a,o,s,l){const n=(0,z.up)("base-button"),r=(0,z.up)("base-card");return(0,z.wg)(),(0,z.iD)("div",null,[(0,z.Wm)(r,null,{default:(0,z.w5)((()=>[(0,z._)("form",{onSubmit:t[10]||(t[10]=(0,i.iM)((e=>l.submitForm()),["prevent"]))},["old"===this.Mode?((0,z.wg)(),(0,z.iD)("div",jt,[At,(0,z._)("input",{type:"text",name:"ID",disabled:"",value:this.ID},null,8,Wt)])):(0,z.kq)("",!0),(0,z._)("div",{class:(0,Ct.C_)(["form-control",{invalid:!s.comName.isValid}])},[Ut,(0,z._)("input",{type:"text",name:"Name",ref:"comName",disabled:!l.editMode,onBlur:t[0]||(t[0]=e=>l.clearValidity("comName"))},null,40,Ft)],2),s.comName.isValid?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("p",Lt," Company name cannot be empty. ")),(0,z._)("div",{class:(0,Ct.C_)(["form-control",{invalid:!s.comAddress.isValid}])},[Mt,(0,z._)("input",{type:"text",name:"Address",ref:"comAddress",disabled:!l.editMode,onBlur:t[1]||(t[1]=e=>l.clearValidity("comAddress"))},null,40,Pt)],2),s.comAddress.isValid?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("p",Ot," Company address cannot be empty and it must be at least 5 letters long. ")),(0,z._)("div",{class:(0,Ct.C_)(["form-control",{invalid:!s.comCity.isValid}])},[zt,(0,z._)("input",{type:"text",name:"City",ref:"comCity",disabled:!l.editMode,onBlur:t[2]||(t[2]=e=>l.clearValidity("comCity"))},null,40,qt)],2),s.comCity.isValid?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("p",Bt," Company city cannot be empty and it must contains only letters and possibly ' and . sign (like in some french cities, or like St. Pauli). ")),(0,z._)("div",{class:(0,Ct.C_)(["form-control",{invalid:!s.comCountry.isValid}])},[xt,(0,z._)("input",{type:"text",name:"Country",ref:"comCountry",disabled:!l.editMode,onBlur:t[3]||(t[3]=e=>l.clearValidity("comCountry"))},null,40,Yt)],2),s.comCountry.isValid?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("p",Rt," Company country cannot be empty and must contain only letters. ")),(0,z._)("div",{class:(0,Ct.C_)(["form-control",{invalid:!s.comEmail.isValid}])},[Ht,(0,z._)("input",{type:"text",name:"Email",ref:"comEmail",disabled:!l.editMode,onBlur:t[4]||(t[4]=e=>l.clearValidity("comEmail"))},null,40,Zt)],2),s.comEmail.isValid?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("p",Jt," You must type in a regular email address. ")),(0,z._)("div",{class:(0,Ct.C_)(["form-control",{invalid:!s.comStartTime.isValid}])},[Gt,(0,z._)("input",{type:"time",name:"StartTime",ref:"comStartTime",disabled:!l.editMode,min:"06:00",max:"14:00",value:"07:00",onBlur:t[5]||(t[5]=e=>l.clearValidity("comStartTime"))},null,40,Kt)],2),(0,z._)("div",{class:(0,Ct.C_)(["form-control",{invalid:!s.comEndTime.isValid}])},[Qt,(0,z._)("input",{type:"time",name:"EndTime",ref:"comEndTime",disabled:!l.editMode,onBlur:t[6]||(t[6]=e=>l.clearValidity("comEndTime")),min:"15:00",max:"23:00",value:"15:00"},null,40,Xt)],2),s.comStartTime.isValid&&s.comEndTime.isValid?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("p",ea," Starting time cannot be before the end of the working time of the company. ")),s.formIsValid?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("p",ta," Please, fix the above errors and submit again. ")),(0,z._)("div",null,[(0,z.Wm)(n,{style:{display:"inline"}},{default:(0,z.w5)((()=>[(0,z.Uk)((0,Ct.zw)(l.textForMode),1)])),_:1}),this.ID?((0,z.wg)(),(0,z.j4)(n,{key:0,link:"",style:{display:"inline"},to:`/departments/${this.ID}`},{default:(0,z.w5)((()=>[(0,z.Uk)("Departments")])),_:1},8,["to"])):(0,z.kq)("",!0),this.ID?((0,z.wg)(),(0,z.j4)(n,{key:1,onClick:t[7]||(t[7]=e=>l.openEmployees()),style:{display:"inline"}},{default:(0,z.w5)((()=>[(0,z.Uk)("Employees")])),_:1})):(0,z.kq)("",!0),this.ID?((0,z.wg)(),(0,z.j4)(n,{key:2,onClick:t[8]||(t[8]=e=>l.openWorkingTimes()),style:{display:"inline"}},{default:(0,z.w5)((()=>[(0,z.Uk)("Working times")])),_:1})):(0,z.kq)("",!0),this.ID?((0,z.wg)(),(0,z.j4)(n,{key:3,link:"",to:l.calculationLink,type:"button",style:{display:"inline"}},{default:(0,z.w5)((()=>[(0,z.Uk)(" See the calculations ")])),_:1},8,["to"])):(0,z.kq)("",!0),this.ID?((0,z.wg)(),(0,z.j4)(n,{key:4,type:"button",onClick:t[9]||(t[9]=e=>l.deleteCompany()),style:{display:"inline"}},{default:(0,z.w5)((()=>[(0,z.Uk)("Delete this company")])),_:1})):(0,z.kq)("",!0)])],32)])),_:1})])}var ia=a(6797),oa=a.n(ia),sa={checkPersonName(e){const t=/^[a-zA-Z]+([ \-']{0,1}[a-zA-Z]+){0,2}[.]{0,1}$/;return t.test(e)},checkEmail(e){const t=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;return t.test(e)},checkPassword(e){const t=/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,50}$/;return t.test(e)},checkCity(e){const t=/^(?:[A-Za-z]{2,}(?:(\.\s|'s\s|\s?-\s?|\s)?(?=[A-Za-z]+))){1,2}(?:[A-Za-z]+)?$/;return t.test(e)},checkCountry(e){const t=/^(?:[A-Za-z]{2,}(?:(\.\s|'s\s|\s?-\s?|\s)?(?=[A-Za-z]+))){1,2}(?:[A-Za-z]+)?$/;return t.test(e)},checkDate(e){return oa()(e,"DD.MM.YYYY",!0).isValid()},checkPhone(e){const t=/^[+]?[0-9]{3,25}$/;return t.test(e)},checkDegree(e){const t=/^[A-Za-z\s]*$/;return t.test(e)}},la={props:["ID","Name","Address","City","Country","Email","Mode","StartTime","EndTime"],emits:["save-data","delete-company"],data(){return{editModeType:!0,formIsValid:!0,comName:{isValid:!0,val:""},comAddress:{isValid:!0,val:""},comCity:{isValid:!0,val:""},comCountry:{isValid:!0,val:""},comEmail:{isValid:!0,val:""},comStartTime:{isValid:!0,val:""},comEndTime:{isValid:!0,val:""}}},methods:{clearValidity(e){this[e].isValid=!0},validateForm(){this.formIsValid=!0,""===this.comName.val&&(this.comName.isValid=!1,this.formIsValid=!1),this.comAddress.val.length<5&&(this.comAddress.isValid=!1,this.formIsValid=!1),sa.checkCity(this.comCity.val)||(this.comCity.isValid=!1,this.formIsValid=!1),sa.checkCountry(this.comCountry.val)||(this.comCountry.isValid=!1,this.formIsValid=!1),sa.checkEmail(this.comEmail.val)||(this.comEmail.isValid=!1,this.formIsValid=!1),this.comStartTime.val>this.comEndTime.val&&(this.comStartTime.isValid=!1,this.formIsValid=!1),this.comStartTime.val>this.comEndTime.val&&(this.comEndTime.isValid=!1,this.formIsValid=!1)},submitForm(){if(!this.editModeType)return void(this.editModeType=!0);if(this.comName.val=this.$refs.comName.value.trim(),this.comAddress.val=this.$refs.comAddress.value.trim(),this.comCity.val=this.$refs.comCity.value.trim(),this.comCountry.val=this.$refs.comCountry.value.trim(),this.comEmail.val=this.$refs.comEmail.value.trim(),this.comStartTime.val=this.$refs.comStartTime.value,this.comEndTime.val=this.$refs.comEndTime.value,this.validateForm(),!this.formIsValid)return;const e={comName:this.comName.val,comAddress:this.comAddress.val,comCity:this.comCity.val,comCountry:this.comCountry.val,comEmail:this.comEmail.val,comStartTime:this.comStartTime.val,comEndTime:this.comEndTime.val};"old"===this.Mode&&(e.comId=this.ID),this.$emit("save-data",e)},deleteCompany(){this.$emit("delete-company",this.ID)},openEmployees(){localStorage.removeItem("depid"),this.$router.push("/employees/"+this.ID)},openWorkingTimes(){localStorage.removeItem("depidwt"),localStorage.removeItem("empidwt"),this.$router.push("/workingtimes/"+this.ID)}},computed:{editMode(){return this.editModeType},textForMode(){return!0===this.editModeType?"Save":"Edit"},calculationLink(){return`/calculations/${this.ID}`}},mounted(){this.editModeType="new"===this.Mode,"old"===this.Mode&&(this.$refs.comAddress.value=this.Address,this.$refs.comCity.value=this.City,this.$refs.comName.value=this.Name,this.$refs.comCountry.value=this.Country,this.$refs.comEmail.value=this.Email,this.$refs.comStartTime.value=this.StartTime,this.$refs.comEndTime.value=this.EndTime)}};const na=(0,ie.Z)(la,[["render",aa],["__scopeId","data-v-6fdced5a"]]);var ra=na,da={components:{CompanyForm:ra},data(){return{error:null,isLoading:!1,EditMode:"new"}},methods:{handleError(){this.error=null},async saveData(e){this.isLoading=!0;try{await this.$store.dispatch("companies/addCompany",e),this.$router.push("/companies")}catch(t){this.error=t}this.isLoading=!1}}};const ma=(0,ie.Z)(da,[["render",Vt]]);var ua=ma;const ca=(0,z._)("section",null,[(0,z._)("h2",{style:{"text-align":"center"}},"Add a new department")],-1),pa={key:0};function ha(e,t,a,i,o,s){const l=(0,z.up)("base-dialog"),n=(0,z.up)("base-spinner"),r=(0,z.up)("department-form");return(0,z.wg)(),(0,z.iD)("div",null,[ca,(0,z.Wm)(l,{show:!!o.error,title:"An error occured",onClose:s.handleError,showClose:!0},{default:(0,z.w5)((()=>[(0,z._)("p",null,(0,Ct.zw)(o.error),1)])),_:1},8,["show","onClose"]),o.isLoading?((0,z.wg)(),(0,z.iD)("div",pa,[(0,z.Wm)(n)])):(0,z.kq)("",!0),(0,z._)("section",null,[(0,z.Wm)(r,{onSaveData:s.saveData,Mode:this.EditMode},null,8,["onSaveData","Mode"])])])}const ya=e=>((0,z.dD)("data-v-0c91cc8c"),e=e(),(0,z.Cn)(),e),ga={key:0,class:"form-control"},wa=ya((()=>(0,z._)("label",{for:"ID"},"ID:",-1))),fa=["value"],ka=ya((()=>(0,z._)("label",{for:"Name"},"Name:",-1))),va=["disabled"],_a={key:1};function Da(e,t,a,o,s,l){const n=(0,z.up)("base-button"),r=(0,z.up)("base-card");return(0,z.wg)(),(0,z.iD)("div",null,[(0,z.Wm)(r,null,{default:(0,z.w5)((()=>[(0,z._)("form",{onSubmit:t[3]||(t[3]=(0,i.iM)((e=>l.submitForm()),["prevent"]))},["old"===this.Mode?((0,z.wg)(),(0,z.iD)("div",ga,[wa,(0,z._)("input",{type:"text",name:"ID",disabled:"",value:this.ID},null,8,fa)])):(0,z.kq)("",!0),(0,z._)("div",{class:(0,Ct.C_)(["form-control",{invalid:!s.depName.isValid}])},[ka,(0,z._)("input",{type:"text",name:"Name",disabled:!l.editMode,ref:"depName",onBlur:t[0]||(t[0]=e=>l.clearValidity("depName"))},null,40,va)],2),s.formIsValid?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("p",_a," Please, fix the above errors and submit again. ")),(0,z._)("div",null,[(0,z.Wm)(n,{style:{display:"inline"}},{default:(0,z.w5)((()=>[(0,z.Uk)((0,Ct.zw)(l.textForMode),1)])),_:1}),this.ID?((0,z.wg)(),(0,z.j4)(n,{key:0,link:"",style:{display:"inline"},to:`/employees/${this.comid}/${this.ID}`},{default:(0,z.w5)((()=>[(0,z.Uk)("Employees")])),_:1},8,["to"])):(0,z.kq)("",!0),this.ID?((0,z.wg)(),(0,z.j4)(n,{key:1,onClick:t[1]||(t[1]=e=>l.openWorkingTimes()),style:{display:"inline"},to:`/workingtimes/${this.comid}/${this.ID}`},{default:(0,z.w5)((()=>[(0,z.Uk)("Working times")])),_:1},8,["to"])):(0,z.kq)("",!0),this.ID?((0,z.wg)(),(0,z.j4)(n,{key:2,type:"button",onClick:t[2]||(t[2]=e=>l.deleteDepartment()),style:{display:"inline"}},{default:(0,z.w5)((()=>[(0,z.Uk)("Delete this department")])),_:1})):(0,z.kq)("",!0)])],32)])),_:1})])}var ba={props:["ID","Name","Mode"],emits:["save-data","delete-department"],data(){return{editModeType:!0,formIsValid:!0,comid:null,depName:{isValid:!0,val:""}}},methods:{clearValidity(e){this[e].isValid=!0},validateForm(){this.formIsValid=!0,""===this.depName.val&&(this.depName.isValid=!1,this.formIsValid=!1)},submitForm(){if(!this.editModeType)return void(this.editModeType=!0);if(this.depName.val=this.$refs.depName.value.trim(),this.validateForm(),!this.formIsValid)return;const e={depName:this.depName.val,comId:this.comid};"old"===this.Mode&&(e.depId=this.ID),this.$emit("save-data",e)},openWorkingTimes(){localStorage.removeItem("comidwt"),localStorage.removeItem("empidwt"),this.$router.push(`/workingtimes/${this.comid}/${this.ID}`)},deleteDepartment(){this.$emit("delete-department",this.ID)}},computed:{editMode(){return this.editModeType},textForMode(){return!0===this.editModeType?"Save":"Edit"}},created(){this.comid=localStorage.getItem("comid")},mounted(){this.editModeType="new"===this.Mode,"old"===this.Mode&&(this.$refs.depName.value=this.Name)}};const Ea=(0,ie.Z)(ba,[["render",Da],["__scopeId","data-v-0c91cc8c"]]);var Ia=Ea,Ta={components:{DepartmentForm:Ia},data(){return{error:null,isLoading:!1,EditMode:"new"}},methods:{handleError(){this.error=null},async saveData(e){this.isLoading=!0;try{await this.$store.dispatch("departments/addDepartment",e),this.$router.push(`/departments/${localStorage.getItem("comid")}`)}catch(t){this.error=t}this.isLoading=!1}}};const Ca=(0,ie.Z)(Ta,[["render",ha]]);var Sa=Ca;const $a=(0,z._)("section",null,[(0,z._)("h2",{style:{"text-align":"center"}},"Add a new employee")],-1),Va={key:0};function Na(e,t,a,i,o,s){const l=(0,z.up)("base-dialog"),n=(0,z.up)("base-spinner"),r=(0,z.up)("employee-form");return(0,z.wg)(),(0,z.iD)("div",null,[$a,(0,z.Wm)(l,{show:!!o.error,title:"An error occured",onClose:s.handleError,showClose:!0},{default:(0,z.w5)((()=>[(0,z._)("p",null,(0,Ct.zw)(o.error),1)])),_:1},8,["show","onClose"]),o.isLoading?((0,z.wg)(),(0,z.iD)("div",Va,[(0,z.Wm)(n)])):(0,z.kq)("",!0),(0,z._)("section",null,[(0,z.Wm)(r,{onSaveData:s.saveData,Mode:this.EditMode},null,8,["onSaveData","Mode"])])])}const ja=e=>((0,z.dD)("data-v-2d5a913c"),e=e(),(0,z.Cn)(),e),Aa={key:0,class:"form-control"},Wa=ja((()=>(0,z._)("label",{for:"ID"},"ID:",-1))),Ua=["value"],Fa=ja((()=>(0,z._)("label",{for:"Firstame"},"First name:",-1))),La=["disabled"],Ma={key:1,class:"invalid"},Pa=ja((()=>(0,z._)("label",{for:"LastName"},"Last name:",-1))),Oa=["disabled"],za={key:2,class:"invalid"},qa=ja((()=>(0,z._)("label",{for:"JobTitle"},"Job title:",-1))),Ba=["disabled"],xa={key:3,class:"invalid"},Ya=ja((()=>(0,z._)("label",{for:"Degree"},"Degree:",-1))),Ra=["disabled"],Ha={key:4,class:"invalid"},Za=ja((()=>(0,z._)("label",{for:"DepartmentId"},"Department:",-1))),Ja=["disabled"],Ga=["value","selected"],Ka=ja((()=>(0,z._)("label",{for:"Email"},"Email:",-1))),Qa=["disabled"],Xa=ja((()=>(0,z._)("label",{for:"Address"},"Address:",-1))),ei=["disabled"],ti={key:5,class:"invalid"},ai={key:6,class:"invalid"},ii=ja((()=>(0,z._)("label",{for:"Phone"},"Phone:",-1))),oi=["disabled"],si={key:7,class:"invalid"},li=ja((()=>(0,z._)("label",{for:"DateOfBirth"},"Date of birth:",-1))),ni=["disabled"],ri={key:8},di=ja((()=>(0,z._)("label",{for:"StartOfEmployment"},"Start of employment:",-1))),mi=["disabled"],ui={key:9},ci=ja((()=>(0,z._)("label",{for:"HourlyRate"},"Hourly rate ($):",-1))),pi=["disabled"],hi={key:10};function yi(e,t,a,o,s,l){const n=(0,z.up)("base-button"),r=(0,z.up)("base-card");return(0,z.wg)(),(0,z.iD)("div",null,[(0,z.Wm)(r,null,{default:(0,z.w5)((()=>[(0,z._)("form",{onSubmit:t[12]||(t[12]=(0,i.iM)((e=>l.submitForm()),["prevent"]))},["old"===this.Mode?((0,z.wg)(),(0,z.iD)("div",Aa,[Wa,(0,z._)("input",{type:"text",name:"ID",disabled:"",value:this.ID},null,8,Ua)])):(0,z.kq)("",!0),(0,z._)("div",{class:(0,Ct.C_)(["form-control",{invalid:!s.empFirstName.isValid}])},[Fa,(0,z._)("input",{type:"text",name:"FirstName",disabled:!l.editMode,ref:"empFirstName",onBlur:t[0]||(t[0]=e=>l.clearValidity("empFirstName"))},null,40,La)],2),s.empFirstName.isValid?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("p",Ma," First name cannot be empty, must contain only letters, but it is allowed to use dashes (like in Marc-Anthony), or single quotes (like in O'Neal). ")),(0,z._)("div",{class:(0,Ct.C_)(["form-control",{invalid:!s.empLastName.isValid}])},[Pa,(0,z._)("input",{type:"text",name:"LastName",disabled:!l.editMode,ref:"empLastName",onBlur:t[1]||(t[1]=e=>l.clearValidity("empLastName"))},null,40,Oa)],2),s.empLastName.isValid?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("p",za," Last name cannot be empty, must contain only letters, but it is allowed to use dashes (like in Schwartz-Muller), or single quotes (like in O'Brian). ")),(0,z._)("div",{class:(0,Ct.C_)(["form-control",{invalid:!s.empJobTitle.isValid}])},[qa,(0,z._)("input",{type:"text",name:"JobTitle",disabled:!l.editMode,ref:"empJobTitle",onBlur:t[2]||(t[2]=e=>l.clearValidity("empJobTitle"))},null,40,Ba)],2),s.empJobTitle.isValid?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("p",xa," Job title cannot be empty, must contain only letters, but it is allowed to use dashes or single quotes. ")),(0,z._)("div",{class:(0,Ct.C_)(["form-control",{invalid:!s.empDegree.isValid}])},[Ya,(0,z._)("input",{type:"text",name:"Degree",disabled:!l.editMode,ref:"empDegree",onBlur:t[3]||(t[3]=e=>l.clearValidity("empDegree"))},null,40,Ra)],2),s.empDegree.isValid?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("p",Ha," Degree cannot be empty, must contain only letters, but it is allowed to use dashes or single quotes. ")),(0,z._)("div",{class:(0,Ct.C_)(["form-control",{invalid:!s.empDepartmentId.isValid}])},[Za,(0,z._)("select",{name:"DepartmentId",id:"DepartmentId",disabled:!l.editMode,ref:"empDepartmentId",onBlur:t[4]||(t[4]=e=>l.clearValidity("empDepartmentId"))},[((0,z.wg)(!0),(0,z.iD)(z.HY,null,(0,z.Ko)(l.departments,(e=>((0,z.wg)(),(0,z.iD)("option",{key:e.ID,value:e.ID,selected:l.depId===e.ID},(0,Ct.zw)(e.Name),9,Ga)))),128))],40,Ja)],2),(0,z._)("div",{class:(0,Ct.C_)(["form-control",{invalid:!s.empEmail.isValid}])},[Ka,(0,z._)("input",{type:"text",name:"Email",disabled:!l.editMode,ref:"empEmail",onBlur:t[5]||(t[5]=e=>l.clearValidity("empEmail"))},null,40,Qa)],2),(0,z._)("div",{class:(0,Ct.C_)(["form-control",{invalid:!s.empAddress.isValid}])},[Xa,(0,z._)("input",{type:"text",name:"Address",disabled:!l.editMode,ref:"empAddress",onBlur:t[6]||(t[6]=e=>l.clearValidity("empAddress"))},null,40,ei)],2),"new"!==this.Mode||s.empEmail.isValid?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("p",ti," Email and its corresponding confirmation field must match and be valid email addresses. ")),"old"!==this.Mode||s.empEmail.isValid?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("p",ai," Both old and new emails must be valid email addresses. ")),(0,z._)("div",{class:(0,Ct.C_)(["form-control",{invalid:!s.empPhone.isValid}])},[ii,(0,z._)("input",{type:"text",name:"Phone",disabled:!l.editMode,ref:"empPhone",onBlur:t[7]||(t[7]=e=>l.clearValidity("empPhone"))},null,40,oi)],2),s.empPhone.isValid?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("p",si," Phone number must be in +999999999 or 099999999 format. ")),(0,z._)("div",{class:(0,Ct.C_)(["form-control",{invalid:!s.empDateOfBirth.isValid}])},[li,(0,z._)("input",{type:"text",name:"DateOfBirth",disabled:!l.editMode,ref:"empDateOfBirth",onBlur:t[8]||(t[8]=e=>l.clearValidity("empDateOfBirth"))},null,40,ni)],2),s.empDateOfBirth.isValid?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("p",ri," The only available format is DD.MM.YYY! You must use that one! ")),(0,z._)("div",{class:(0,Ct.C_)(["form-control",{invalid:!s.empStartOfEmployment.isValid}])},[di,(0,z._)("input",{type:"text",name:"StartOfEmployment",disabled:!l.editMode,ref:"empStartOfEmployment",onBlur:t[9]||(t[9]=e=>l.clearValidity("empStartOfEmployment"))},null,40,mi)],2),s.empStartOfEmployment.isValid?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("p",ui," The only available format is DD.MM.YYY! You must use that one! ")),(0,z._)("div",{class:(0,Ct.C_)(["form-control",{invalid:!s.empHourlyRate.isValid}])},[ci,(0,z._)("input",{type:"number",step:"0.01",name:"HourlyRate",disabled:!l.editMode,ref:"empHourlyRate",onBlur:t[10]||(t[10]=e=>l.clearValidity("empHourlyRate"))},null,40,pi)],2),s.formIsValid?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("p",hi," Please, fix the above errors and submit again. ")),(0,z._)("div",null,[(0,z.Wm)(n,{style:{display:"inline"}},{default:(0,z.w5)((()=>[(0,z.Uk)((0,Ct.zw)(l.textForMode),1)])),_:1}),this.ID?((0,z.wg)(),(0,z.j4)(n,{key:0,onClick:t[11]||(t[11]=e=>l.openWorkingTimes()),style:{display:"inline"},to:`/workingtimes/${this.ID}`},{default:(0,z.w5)((()=>[(0,z.Uk)("Working times")])),_:1},8,["to"])):(0,z.kq)("",!0),(0,z.Wm)(n,{type:"button",onClick:l.deleteEmployee,style:{display:"inline"}},{default:(0,z.w5)((()=>[(0,z.Uk)("Delete this employee")])),_:1},8,["onClick"])])],32)])),_:1})])}var gi={emits:["save-data","delete-employee"],props:["ID","FirstName","LastName","Degree","JobTitle","HourlyRate","Department","DepartmentId","Email","Address","Phone","DateOfBirth","StartOfEmployment","Mode"],data(){return{editModeType:!0,formIsValid:!0,depid:null,empFirstName:{isValid:!0,val:""},empLastName:{isValid:!0,val:""},empDegree:{isValid:!0,val:""},empJobTitle:{isValid:!0,val:""},empHourlyRate:{isValid:!0,val:0},empDepartmentId:{isValid:!0,val:""},empEmail:{isValid:!0,val:""},empAddress:{isValid:!0,val:""},empPhone:{isValid:!0,val:""},empDateOfBirth:{isValid:!0,val:""},empStartOfEmployment:{isValid:!0,val:""}}},methods:{handleError(){this.error=null},clearValidity(e){this[e].isValid=!0},submitForm(){if(!this.editModeType)return void(this.editModeType=!0);if(this.empAddress.val=this.$refs.empAddress.value.trim(),this.empDateOfBirth.val=this.$refs.empDateOfBirth.value,this.empDegree.val=this.$refs.empDegree.value.trim(),this.empDepartmentId.val=this.$refs.empDepartmentId.value,this.empEmail.val=this.$refs.empEmail.value.trim(),this.empFirstName.val=this.$refs.empFirstName.value.trim(),this.empHourlyRate.val=this.$refs.empHourlyRate.value,this.empJobTitle.val=this.$refs.empJobTitle.value.trim(),this.empLastName.val=this.$refs.empLastName.value.trim(),this.empPhone.val=this.$refs.empPhone.value.trim(),this.empStartOfEmployment.val=this.$refs.empStartOfEmployment.value,this.validateForm(),!this.formIsValid)return;const e={empAddress:this.empAddress.val,empEmail:this.empEmail.val,empDateOfBirth:this.empDateOfBirth.val,empDegree:this.empDegree.val,empDepartmentId:this.empDepartmentId.val,empFirstName:this.empFirstName.val,empHourlyRate:parseFloat(this.empHourlyRate.val),empJobTitle:this.empJobTitle.val,empLastName:this.empLastName.val,empPhone:this.empPhone.val,empStartOfEmployment:this.empStartOfEmployment.val};"old"===this.Mode&&(e.empId=this.ID),this.$emit("save-data",e)},validateForm(){this.formIsValid=!0,sa.checkPersonName(this.empFirstName.val)||(this.empFirstName.isValid=!1,this.formIsValid=!1),sa.checkPersonName(this.empLastName.val)||(this.empLastName.isValid=!1,this.formIsValid=!1),sa.checkPersonName(this.empJobTitle.val)||(this.empJobTitle.isValid=!1,this.formIsValid=!1),sa.checkEmail(this.empEmail.val)||(this.empEmail.isValid=!1,this.formIsValid=!1),this.empAddress.val.length<5&&(this.empAddress.isValid=!1,this.formIsValid=!1),""!==this.empDateOfBirth.val&&sa.checkDate(this.empDateOfBirth.val)||(this.empDateOfBirth.isValid=!1,this.formIsValid=!1),sa.checkDegree(this.empDegree.val)||(this.empDegree.isValid=!1,this.formIsValid=!1),(isNaN(parseFloat(this.empHourlyRate.val))||parseFloat(this.empHourlyRate.val)<=0)&&(this.empHourlyRate.isValid=!1,this.formIsValid=!1),sa.checkPhone(this.empPhone.val)||(this.empPhone.isValid=!1,this.formIsValid=!1),""!==this.empStartOfEmployment.val&&sa.checkDate(this.empStartOfEmployment.val)||(this.empStartOfEmployment.isValid=!1,this.formIsValid=!1)},async loadDepartments(){try{await this.$store.dispatch("departments/loadDepartments",{comid:localStorage.getItem("comid")})}catch(e){this.error=`${e.message} in getting departments`||"Something went wrong!"}},openWorkingTimes(){localStorage.removeItem("comidwt"),localStorage.removeItem("depidwt"),this.$router.push("/workingtimes/"+this.empid)},deleteEmployee(){this.$emit("delete-employee",this.ID)}},computed:{editMode(){return this.editModeType},textForMode(){return!0===this.editModeType?"Save":"Edit"},departments(){return this.$store.getters["departments/departments"]},depId(){return this.DepartmentId}},async created(){await this.loadDepartments(),this.comid=localStorage.getItem("comid"),this.empid=localStorage.getItem("empid"),this.depid=localStorage.getItem("depid")},mounted(){this.editModeType="new"===this.Mode,"old"===this.Mode&&(this.$refs.empAddress.value=this.Address,this.$refs.empDateOfBirth.value=oa()(this.DateOfBirth).format("DD.MM.YYYY"),this.$refs.empDegree.value=this.Degree,this.$refs.empDepartmentId.value=this.DepartmentId,this.$refs.empEmail.value=this.Email,this.$refs.empFirstName.value=this.FirstName,this.$refs.empHourlyRate.value=this.HourlyRate,this.$refs.empJobTitle.value=this.JobTitle,this.$refs.empLastName.value=this.LastName,this.$refs.empPhone.value=this.Phone,this.$refs.empStartOfEmployment.value=oa()(this.StartOfEmployment).format("DD.MM.YYYY"))}};const wi=(0,ie.Z)(gi,[["render",yi],["__scopeId","data-v-2d5a913c"]]);var fi=wi,ki={components:{EmployeeForm:fi},data(){return{error:null,isLoading:!1,EditMode:"new"}},methods:{handleError(){this.error=null},async saveData(e){try{await this.$store.dispatch("employees/addEmployee",e),this.$router.push(`/employees/ + ${localStorage.getItem("comid")}`)}catch(t){this.error=t}}}};const vi=(0,ie.Z)(ki,[["render",Na]]);var _i=vi;function Di(e,t,a,i,o,s){const l=(0,z.up)("user-form"),n=(0,z.up)("base-card");return(0,z.wg)(),(0,z.iD)("div",null,[(0,z.Wm)(n,null,{default:(0,z.w5)((()=>[(0,z.Wm)(l,{Mode:"new"})])),_:1})])}const bi=e=>((0,z.dD)("data-v-72ea9e79"),e=e(),(0,z.Cn)(),e),Ei={key:0},Ii=bi((()=>(0,z._)("label",{for:"FirstName"},"First name",-1))),Ti={key:0,class:"invalid"},Ci=bi((()=>(0,z._)("label",{for:"LastName"},"Last name",-1))),Si={key:1,class:"invalid"},$i={key:0,for:"Email"},Vi={key:1,for:"Email"},Ni={key:0,for:"EmailConfirm"},ji={key:1,for:"EmailConfirm"},Ai={key:2,class:"invalid"},Wi={key:3,class:"invalid"},Ui={key:0,for:"Password"},Fi={key:1,for:"Password"},Li={key:0,for:"PasswordConfirm"},Mi={key:1,for:"PasswordConfirm"},Pi={key:4,class:"invalid"},Oi={key:5,class:"invalid"},zi={key:6,class:"invalid"},qi={key:7},Bi={class:"form-control"};function xi(e,t,a,o,s,l){const n=(0,z.up)("base-dialog"),r=(0,z.up)("base-spinner"),d=(0,z.up)("base-button");return(0,z.wg)(),(0,z.iD)("div",null,[(0,z.Wm)(n,{show:!!s.error,title:"An error occured",showClose:!0,onClose:l.handleError},{default:(0,z.w5)((()=>[(0,z._)("p",null,(0,Ct.zw)(s.error),1)])),_:1},8,["show","onClose"]),s.isLoading?((0,z.wg)(),(0,z.iD)("div",Ei,[(0,z.Wm)(r)])):(0,z.kq)("",!0),((0,z.wg)(),(0,z.j4)(z.Ob,null,[(0,z._)("form",{onSubmit:t[6]||(t[6]=(0,i.iM)((e=>l.submitForm()),["prevent"]))},[(0,z._)("div",{class:(0,Ct.C_)(["form-control",{invalid:!s.uFirstName.isValid}])},[Ii,(0,z._)("input",{type:"text",name:"FirstName",id:"FirstName",ref:"FirstName",onBlur:t[0]||(t[0]=e=>l.clearValidity("uFirstName"))},null,544)],2),s.uFirstName.isValid?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("p",Ti," First name cannot be empty, must contain only letters, but it is allowed to use dashes (like in Marc-Anthony), or single quotes (like in O'Neal). ")),(0,z._)("div",{class:(0,Ct.C_)(["form-control",{invalid:!s.uLastName.isValid}])},[Ci,(0,z._)("input",{type:"text",name:"LastName",id:"LastName",ref:"LastName",onBlur:t[1]||(t[1]=e=>l.clearValidity("uLastName"))},null,544)],2),s.uLastName.isValid?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("p",Si," Last name cannot be empty, must contain only letters, but it is allowed to use dashes (like in Schwartz-Muller), or single quotes (like in O'Brian). ")),(0,z._)("div",{class:(0,Ct.C_)(["form-control",{invalid:!s.uEmail.isValid}])},["new"===this.Mode?((0,z.wg)(),(0,z.iD)("label",$i,"Email")):(0,z.kq)("",!0),"old"===this.Mode?((0,z.wg)(),(0,z.iD)("label",Vi,"Old email")):(0,z.kq)("",!0),(0,z._)("input",{type:"email",name:"Email",id:"Email",ref:"Email",onBlur:t[2]||(t[2]=e=>l.clearValidity("uEmail"))},null,544)],2),(0,z._)("div",{class:(0,Ct.C_)(["form-control",{invalid:!s.uEmailConfirm.isValid}])},["new"===this.Mode?((0,z.wg)(),(0,z.iD)("label",Ni,"Email confirmation")):(0,z.kq)("",!0),"old"===this.Mode?((0,z.wg)(),(0,z.iD)("label",ji,"New email")):(0,z.kq)("",!0),(0,z._)("input",{type:"email",name:"EmailConfirm",id:"EmailConfirm",ref:"EmailConfirm",onBlur:t[3]||(t[3]=e=>l.clearValidity("uEmailConfirm"))},null,544)],2),"new"!==this.Mode||s.uEmail.isValid&&s.uEmailConfirm.isValid?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("p",Ai," Email and its corresponding confirmation field must match and be valid email addresses. ")),"old"!==this.Mode||s.uEmail.isValid&&s.uEmailConfirm.isValid?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("p",Wi," Both old and new emails must be valid email addresses. ")),(0,z._)("div",{class:(0,Ct.C_)(["form-control",{invalid:!s.uPassword.isValid}])},["new"===this.Mode?((0,z.wg)(),(0,z.iD)("label",Ui,"Password")):(0,z.kq)("",!0),"old"===this.Mode?((0,z.wg)(),(0,z.iD)("label",Fi,"Old password")):(0,z.kq)("",!0),(0,z._)("input",{type:"password",name:"Password",id:"Password",ref:"Password",onBlur:t[4]||(t[4]=e=>l.clearValidity("uPassword"))},null,544)],2),(0,z._)("div",{class:(0,Ct.C_)(["form-control",{invalid:!s.uPasswordConfirm.isValid}])},["new"===this.Mode?((0,z.wg)(),(0,z.iD)("label",Li,"Password confirmation")):(0,z.kq)("",!0),"old"===this.Mode?((0,z.wg)(),(0,z.iD)("label",Mi,"New password")):(0,z.kq)("",!0),(0,z._)("input",{type:"password",name:"PasswordConfirm",id:"PasswordConfirm",ref:"PasswordConfirm",onBlur:t[5]||(t[5]=e=>l.clearValidity("uPasswordConfirm"))},null,544)],2),"new"!==this.Mode||s.uPassword.isValid&&s.uPasswordConfirm.isValid?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("p",Pi," Password and its corresponding confirmation field must match and be at least 8 characters long, containing letters, numbers and at least one special sign. ")),"old"===this.Mode&&""===s.uPassword.val.trim()?((0,z.wg)(),(0,z.iD)("p",Oi," You must type in old password for the sake of verification. ")):"old"!==this.Mode||s.uPassword.isValid&&s.uPasswordConfirm.isValid?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("p",zi," Both old and new passwords must be at least 8 characters long, containing letters, numbers and special signs. ")),s.formIsValid?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("p",qi,"Please, fix the above errors and submit again.")),(0,z._)("div",Bi,[(0,z.Wm)(d,{style:{display:"inline"}},{default:(0,z.w5)((()=>[(0,z.Uk)("Save")])),_:1}),"old"===this.Mode?((0,z.wg)(),(0,z.j4)(d,{key:0,type:"button",style:{display:"inline"},onClick:l.deleteUser},{default:(0,z.w5)((()=>[(0,z.Uk)("Delete")])),_:1},8,["onClick"])):(0,z.kq)("",!0)])],32)],1024))])}var Yi={props:["Mode","FirstName","LastName","Email"],data(){return{error:null,isLoading:!1,formIsValid:!0,uFirstName:{isValid:!0,val:""},uLastName:{isValid:!0,val:""},uEmail:{isValid:!0,val:""},uEmailConfirm:{isValid:!0,val:""},uPassword:{isValid:!0,val:""},uPasswordConfirm:{isValid:!0,val:""}}},methods:{handleError(){this.error=null},clearValidity(e){this[e].isValid=!0},deleteUser(){alert("to be done")},async submitForm(){this.isLoading=!0;try{if(this.uFirstName.val=this.$refs.FirstName.value,this.uLastName.val=this.$refs.LastName.value,this.uEmail.val=this.$refs.Email.value,this.uEmailConfirm.val=this.$refs.EmailConfirm.value,this.uPassword.val=this.$refs.Password.value,this.uPasswordConfirm.val=this.$refs.PasswordConfirm.value,this.validateForm(),!this.formIsValid)return void(this.isLoading=!1);const e={FirstName:this.uFirstName.val,LastName:this.uLastName.val};"old"===this.Mode?(e.Id=this.ID,e.OldEmail=this.uEmail.val,e.NewEmail=this.uEmailConfirm.val,e.NewEmailConfirmation=this.uEmailConfirm.val,e.OldPassword=this.uPassword.val,e.NewPassword=this.uPasswordConfirm.val,e.PasswordConfirmation=this.uPasswordConfirm.val,await this.$store.dispatch("auth/editUser",e),this.$router.push("/companies")):(e.FirstName=this.uFirstName.val,e.LastName=this.uLastName.val,e.Email=this.uEmail.val,e.Password=this.uPassword.val,e.Role="COMPANY MANAGER",await this.$store.dispatch("auth/register",e),this.$router.push("/login"))}catch(e){this.error=e}this.isLoading=!1},validateForm(){this.formIsValid=!0,sa.checkPersonName(this.uFirstName.val)||(this.uFirstName.isValid=!1,this.formIsValid=!1),sa.checkPersonName(this.uLastName.val)||(this.uLastName.isValid=!1,this.formIsValid=!1),"new"===this.Mode?sa.checkEmail(this.uEmail.val)&&this.uEmail.val===this.uEmailConfirm.val||(this.uEmail.isValid=!1,this.uEmailConfirm.isValid=!1,this.formIsValid=!1):(sa.checkEmail(this.uEmail.val)||(this.uEmail.isValid=!1,this.formIsValid=!1),""!==this.uEmailConfirm.val&&(sa.checkEmail(this.uEmailConfirm.val)||(this.uEmailConfirm.isValid=!1,this.formIsValid=!1))),"new"===this.Mode?sa.checkPassword(this.uPassword.val)&&this.uPassword.val===this.uPasswordConfirm.val||(this.uPassword.isValid=!1,this.uPasswordConfirm.isValid=!1,this.formIsValid=!1):(sa.checkPassword(this.uPassword.val)||(this.uPassword.isValid=!1,this.formIsValid=!1),""!==this.uPasswordConfirm.val&&(sa.checkPassword(this.uPasswordConfirm.val)||(this.uPasswordConfirm.isValid=!1,this.formIsValid=!1)))}},mounted(){"old"===this.Mode&&(this.$refs.FirstName.value=this.FirstName,this.$refs.LastName.value=this.LastName,this.$refs.Email.value=this.Email)}};const Ri=(0,ie.Z)(Yi,[["render",xi],["__scopeId","data-v-72ea9e79"]]);var Hi=Ri,Zi={components:{UserForm:Hi}};const Ji=(0,ie.Z)(Zi,[["render",Di]]);var Gi=Ji;function Ki(e,t){const a=(0,z.up)("base-button"),i=(0,z.up)("base-card");return(0,z.wg)(),(0,z.iD)("div",null,[(0,z.Wm)(i,{style:{"text-align":"center"}},{default:(0,z.w5)((()=>[(0,z.Wm)(a,{class:"authButtons",link:"",to:"/register"},{default:(0,z.w5)((()=>[(0,z.Uk)("Register")])),_:1}),(0,z.Wm)(a,{class:"authButtons",link:"",to:"/login"},{default:(0,z.w5)((()=>[(0,z.Uk)("Login")])),_:1})])),_:1})])}const Qi={},Xi=(0,ie.Z)(Qi,[["render",Ki],["__scopeId","data-v-e608ba48"]]);var eo=Xi;const to=e=>((0,z.dD)("data-v-d6048c02"),e=e(),(0,z.Cn)(),e),ao=to((()=>(0,z._)("label",{for:"wtDate"},"Date:",-1))),io={key:0,class:"invalid"},oo=to((()=>(0,z._)("hr",null,null,-1))),so=to((()=>(0,z._)("thead",null,[(0,z._)("tr",null,[(0,z._)("th",null,"Full name"),(0,z._)("th",null,"Employee worked"),(0,z._)("th",null,"Start time"),(0,z._)("th",null,"End time")])],-1))),lo={style:{"text-align":"left"}},no=["onUpdate:modelValue"],ro=["onUpdate:modelValue"],mo=["onUpdate:modelValue"],uo=to((()=>(0,z._)("br",null,null,-1))),co=to((()=>(0,z._)("br",null,null,-1))),po={style:{"text-align":"center"}},ho={key:1};function yo(e,t,a,o,s,l){const n=(0,z.up)("base-dialog"),r=(0,z.up)("base-button"),d=(0,z.up)("base-card");return(0,z.wg)(),(0,z.iD)("div",null,[(0,z.Wm)(n,{show:!!s.error,title:"An error occured",showClose:!0,onClose:l.handleError},{default:(0,z.w5)((()=>[(0,z._)("p",null,(0,Ct.zw)(s.error),1)])),_:1},8,["show","onClose"]),(0,z._)("section",null,[l.hasEmployees?((0,z.wg)(),(0,z.iD)("form",{key:0,onSubmit:t[2]||(t[2]=(0,i.iM)((e=>l.submitForm()),["prevent"]))},[(0,z.Wm)(d,{style:{"max-width":"50%"}},{default:(0,z.w5)((()=>[(0,z._)("div",null,[(0,z._)("div",{class:(0,Ct.C_)(["form-control",{invalid:!s.wtDate.isValid}])},[ao,(0,z.wy)((0,z._)("input",{type:"text",name:"wtDate",onBlur:t[0]||(t[0]=e=>l.clearValidity("wtDate")),"onUpdate:modelValue":t[1]||(t[1]=e=>s.wtDate.val=e)},null,544),[[i.nr,s.wtDate.val]])],2),s.wtDate.isValid?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("p",io," Date must be in a DD.MM.YYYY format. ")),oo,(0,z._)("table",null,[so,(0,z._)("tbody",null,[((0,z.wg)(!0),(0,z.iD)(z.HY,null,(0,z.Ko)(l.loadedEmployees,(e=>((0,z.wg)(),(0,z.iD)("tr",{key:e.id},[(0,z._)("td",lo,(0,Ct.zw)(e.id+" - "+e.firstName+" "+e.lastName),1),(0,z._)("td",null,[(0,z.wy)((0,z._)("input",{type:"checkbox","onUpdate:modelValue":t=>e.didWork=t},null,8,no),[[i.e8,e.didWork]])]),(0,z._)("td",null,[(0,z.wy)((0,z._)("input",{type:"time",name:"WorkingTimeDate","onUpdate:modelValue":t=>e.startTime=t},null,8,ro),[[i.nr,e.startTime]])]),(0,z._)("td",null,[(0,z.wy)((0,z._)("input",{type:"time",name:"WorkingTimeDate","onUpdate:modelValue":t=>e.endTime=t},null,8,mo),[[i.nr,e.endTime]])])])))),128))])]),uo,co,(0,z._)("div",po,[(0,z.Wm)(r,null,{default:(0,z.w5)((()=>[(0,z.Uk)("Save working times")])),_:1})])])])),_:1})],32)):((0,z.wg)(),(0,z.iD)("p",ho,[(0,z.Wm)(d,null,{default:(0,z.w5)((()=>[(0,z.Uk)(" There are no employees here. There's probably some server side problem. We suggest you try again in a minute or so, or just go to the root of the application and start over. ")])),_:1})]))])])}var go={data(){return{isValid:!0,error:null,wtDate:{isValid:!0,val:""},employees:[],company:{}}},async created(){const e=window.location.pathname.split("/").slice(2),t=2===e.length?`${e[0]}/${e[1]}?PageNumber=0&PageSize=10000`:`${e[0]}?PageNumber=0&PageSize=10000`;try{await this.$store.dispatch("employees/loadEmployees",{link:t}),this.employees=this.$store.getters["employees/employees"]}catch(a){return void(this.error=a)}try{await this.$store.dispatch("companies/loadCompany",{id:e[0]})}catch(a){return void(this.error=a)}this.wtDate.val=oa()((new Date).toLocaleDateString().substring(0,10)).format("DD.MM.YYYY"),this.company=this.$store.getters["companies/company"],this.employees=this.employees.map((e=>({id:e.ID,date:this.wtDate.val,firstName:e.FirstName,lastName:e.LastName,endTime:this.company.EndTime,startTime:this.company.StartTime,didWork:!0})))},computed:{loadedEmployees(){return this.employees},hasEmployees(){return this.$store.getters["employees/hasEmployees"]},workingDate(){return this.wtDate}},methods:{handleError(){this.error=null},clearValidity(e){this[e].isValid=!0},validate(){this.formIsValid=!0,""!==this.wtDate.val&&oa()(this.wtDate.val,"DD.MM.YYYY",!0).isValid()||(this.wtDate.isValid=!1,this.formIsValid=!1)},async submitForm(){if(this.validate(),this.formIsValid)try{this.employees.forEach((e=>e.date=this.wtDate.val)),await this.$store.dispatch("workingTimes/addWorkingTimes",{employees:this.employees}),this.$router.push(`/workingtimes/${this.company.ID}`)}catch(e){this.error=e}}}};const wo=(0,ie.Z)(go,[["render",yo],["__scopeId","data-v-d6048c02"]]);var fo=wo;const ko={class:"controls"},vo={key:0},_o={key:1},Do={key:2};function bo(e,t,a,i,o,s){const l=(0,z.up)("base-dialog"),n=(0,z.up)("base-button"),r=(0,z.up)("base-spinner"),d=(0,z.up)("company-item"),m=(0,z.up)("router-link"),u=(0,z.up)("base-card");return(0,z.wg)(),(0,z.iD)("div",null,[(0,z.Wm)(l,{show:!!o.error,title:"An error occured",showClose:!0,onClose:s.handleError},{default:(0,z.w5)((()=>[(0,z._)("p",null,(0,Ct.zw)(o.error),1)])),_:1},8,["show","onClose"]),(0,z._)("section",null,[(0,z.Wm)(u,null,{default:(0,z.w5)((()=>[(0,z._)("div",ko,[(0,z.Wm)(n,{onClick:s.refresh},{default:(0,z.w5)((()=>[(0,z.Uk)("Refresh")])),_:1},8,["onClick"]),s.hasCompanies?((0,z.wg)(),(0,z.j4)(n,{key:0,link:"",to:"/addcompany"},{default:(0,z.w5)((()=>[(0,z.Uk)("Add company")])),_:1})):(0,z.kq)("",!0)]),o.isLoading?((0,z.wg)(),(0,z.iD)("div",vo,[(0,z.Wm)(r)])):s.hasCompanies?((0,z.wg)(),(0,z.iD)("ul",_o,[((0,z.wg)(!0),(0,z.iD)(z.HY,null,(0,z.Ko)(s.filteredCompanies,(e=>((0,z.wg)(),(0,z.j4)(d,{key:e.ID,ID:e.ID,Name:e.Name,Address:e.Address,City:e.City,Country:e.Country,Email:e.Email,StartTime:e.StartTime,EndTime:e.EndTime},null,8,["ID","Name","Address","City","Country","Email","StartTime","EndTime"])))),128))])):o.isLoading?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("h3",Do,[(0,z.Uk)(" There are no companies for this user. "),(0,z.Wm)(m,{to:"/addcompany"},{default:(0,z.w5)((()=>[(0,z.Uk)("Add one!")])),_:1})]))])),_:1})])])}const Eo={class:"actions"};function Io(e,t,a,i,o,s){const l=(0,z.up)("base-button");return(0,z.wg)(),(0,z.iD)("li",null,[(0,z._)("h3",null,(0,Ct.zw)(a.ID)+" - "+(0,Ct.zw)(a.Name),1),(0,z._)("h4",null,(0,Ct.zw)(s.fullAddress),1),(0,z._)("h4",null,[(0,z._)("b",null,(0,Ct.zw)(a.Email),1)]),(0,z._)("h4",null,(0,Ct.zw)(a.StartTime)+" - "+(0,Ct.zw)(a.EndTime),1),(0,z._)("div",Eo,[(0,z.Wm)(l,{link:"",to:s.detailsLink},{default:(0,z.w5)((()=>[(0,z.Uk)("Details")])),_:1},8,["to"])])])}var To={props:["ID","Name","Address","City","Country","Email","StartTime","EndTime"],computed:{fullAddress(){return`${this.Address}, ${this.City}, ${this.Country}`},detailsLink(){return`${this.$route.path}/${this.ID}`}}};const Co=(0,ie.Z)(To,[["render",Io],["__scopeId","data-v-7eafa909"]]);var So=Co,$o={data(){return{isLoading:!1,error:null}},components:{CompanyItem:So},computed:{filteredCompanies(){return this.$store.getters["companies/companies"]},hasCompanies(){return!this.isLoading&&this.$store.getters["companies/hasCompanies"]}},methods:{async loadCompanies(){this.isLoading=!0;try{await this.$store.dispatch("companies/loadCompanies")}catch(e){this.error=`${e.message} in getting companies.`||"Something went wrong!"}this.isLoading=!1},async refresh(){await this.loadCompanies()},handleError(){this.error=null}},async created(){await this.loadCompanies(),d()}};const Vo=(0,ie.Z)($o,[["render",bo],["__scopeId","data-v-12001a02"]]);var No=Vo;const jo={key:0},Ao=(0,z._)("h3",null,"There are some problems with loading of this company.",-1);function Wo(e,t,a,i,o,s){const l=(0,z.up)("base-dialog"),n=(0,z.up)("base-spinner"),r=(0,z.up)("company-form"),d=(0,z.up)("base-card"),m=(0,z.up)("company-delete-options");return(0,z.wg)(),(0,z.iD)("div",null,[(0,z.Wm)(l,{show:!!o.error,title:"An error occured",onClose:s.handleError,showClose:!0},{default:(0,z.w5)((()=>[(0,z._)("p",null,(0,Ct.zw)(o.error),1)])),_:1},8,["show","onClose"]),o.isLoading?((0,z.wg)(),(0,z.iD)("div",jo,[(0,z.Wm)(n)])):(0,z.kq)("",!0),s.hasCompany?((0,z.wg)(),(0,z.j4)(r,{onSaveData:s.saveData,onDeleteCompany:s.deleteCompany,key:s.company.ID,ID:s.company.ID,Name:s.company.Name,Address:s.company.Address,City:s.company.City,Country:s.company.Country,Email:s.company.Email,Mode:this.EditMode,StartTime:s.company.StartTime,EndTime:s.company.EndTime},null,8,["onSaveData","onDeleteCompany","ID","Name","Address","City","Country","Email","Mode","StartTime","EndTime"])):o.isLoading?(0,z.kq)("",!0):((0,z.wg)(),(0,z.j4)(d,{key:2},{default:(0,z.w5)((()=>[Ao])),_:1})),(0,z.Wm)(l,{showClose:!1,fixed:"",title:"Select some delete options",show:o.deleting},{default:(0,z.w5)((()=>[(0,z.Wm)(m,{onCancel:s.cancelDeletion},null,8,["onCancel"])])),_:1},8,["show"])])}const Uo=e=>((0,z.dD)("data-v-2842ba8d"),e=e(),(0,z.Cn)(),e),Fo=Uo((()=>(0,z._)("p",{style:{"text-align":"justify"}}," Would you like to delete all of the employees from this company? If you choose YES, all of the employees and their working times will be deleted. ",-1))),Lo={class:"form-control"},Mo=Uo((()=>(0,z._)("label",{for:"deleteAll"},"Delete all employees:",-1))),Po=Uo((()=>(0,z._)("option",{value:"0",selected:""},"NO",-1))),Oo=Uo((()=>(0,z._)("option",{value:"1"},"YES",-1))),zo=[Po,Oo],qo={key:0},Bo=Uo((()=>(0,z._)("p",{style:{"text-align":"justify"}}," Select the company you would like to transfer employees of deleting company. ",-1))),xo={class:"form-control"},Yo=Uo((()=>(0,z._)("label",{for:"companyId"},"Select company:",-1))),Ro=Uo((()=>(0,z._)("option",{value:"0"},"None. Just leave them unemployed.",-1))),Ho=["value"],Zo={key:1},Jo=Uo((()=>(0,z._)("p",{style:{"text-align":"justify"}}," Select the department of the company you would like to transfer employees of deleting company. ",-1))),Go={class:"form-control"},Ko=Uo((()=>(0,z._)("label",{for:"companyId"},"Select department:",-1))),Qo=["value"],Xo={key:1},es={class:"form-control"};function ts(e,t,a,o,s,l){const n=(0,z.up)("base-button");return(0,z.wg)(),(0,z.iD)(z.HY,null,[(0,z._)("div",null,[Fo,(0,z._)("div",Lo,[Mo,(0,z.wy)((0,z._)("select",{name:"deleteAll",id:"deleteAll","onUpdate:modelValue":t[0]||(t[0]=e=>s.delSelected=e)},zo,512),[[i.bM,s.delSelected]])])]),l.delSel>0?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("div",qo,[Bo,(0,z._)("div",xo,[Yo,(0,z.wy)((0,z._)("select",{name:"companyId","onUpdate:modelValue":t[1]||(t[1]=e=>s.comId=e),id:"companyId"},[Ro,((0,z.wg)(!0),(0,z.iD)(z.HY,null,(0,z.Ko)(l.companies,(e=>((0,z.wg)(),(0,z.iD)("option",{key:e.ID,value:e.ID},(0,Ct.zw)(e.Name),9,Ho)))),128))],512),[[i.bM,s.comId]])])])),l.comSel>0?((0,z.wg)(),(0,z.iD)("div",Zo,[Jo,(0,z._)("div",Go,[Ko,s.loadedDepartments.length>0?(0,z.wy)(((0,z.wg)(),(0,z.iD)("select",{key:0,name:"departmentId","onUpdate:modelValue":t[2]||(t[2]=e=>s.depId=e),id:"departmentId"},[((0,z.wg)(!0),(0,z.iD)(z.HY,null,(0,z.Ko)(l.departments,(e=>((0,z.wg)(),(0,z.iD)("option",{key:e.ID,value:e.ID},(0,Ct.zw)(e.Name),9,Qo)))),128))],512)),[[i.bM,s.depId]]):((0,z.wg)(),(0,z.iD)("p",Xo," There are no departments to choose from. Either add some departments to the selected company, or delete all the employees. "))])])):(0,z.kq)("",!0),(0,z._)("div",es,[(0,z.Wm)(n,{style:{display:"inline"},onClick:l.deleteCompany},{default:(0,z.w5)((()=>[(0,z.Uk)("Delete")])),_:1},8,["onClick"]),(0,z.Wm)(n,{style:{display:"inline"},onClick:l.cancel},{default:(0,z.w5)((()=>[(0,z.Uk)("Cancel")])),_:1},8,["onClick"])])],64)}var as=a(4870),is={emits:["cancel"],data(){return{comId:(0,as.iH)("0"),delSelected:(0,as.iH)("1"),loadedCompanies:[],depId:(0,as.iH)(""),loadedDepartments:[]}},computed:{delSel(){return this.delSelected},comSel(){return this.comId},companies(){return this.loadedCompanies},departments(){return this.loadedDepartments}},watch:{async delSelected(){0==this.delSelected&&await this.loadCompanies()},async comId(){0!=this.comId&&await this.loadDepartments()}},methods:{async deleteCompany(){const e={id:parseInt(localStorage.getItem("comid")),targetDepartmentId:""!=this.depId?this.depId:0,deleteEmployees:0!=this.delSelected};try{await this.$store.dispatch("companies/deleteCompany",e),this.$router.push("/companies")}catch(t){this.error=`${t.message} in deleting company.`||"Something went wrong!"}},cancel(){this.$emit("cancel")},async loadCompanies(){try{this.$store.getters["companies/hasCompanies"]||await this.$store.dispatch("companies/loadCompanies")}catch(e){this.error=`${e.message} in getting companies.`||"Something went wrong!"}this.loadedCompanies=this.$store.getters["companies/companies"].filter((e=>+e.ID!==parseInt(localStorage.getItem("comid"))))},async loadDepartments(){try{await this.$store.dispatch("departments/loadDepartments",{comid:this.comId})}catch(e){this.error=`${e.message} in getting epartments.`||"Something went wrong!"}this.loadedDepartments=this.$store.getters["departments/departments"]}}};const os=(0,ie.Z)(is,[["render",ts],["__scopeId","data-v-2842ba8d"]]);var ss=os,ls={components:{CompanyForm:ra,CompanyDeleteOptions:ss},props:["comid"],data(){return{isLoading:!1,deleting:!1,error:null,mode:!0,EditMode:"old"}},methods:{async saveData(e){this.isLoading=!0;try{await this.$store.dispatch("companies/editCompany",e),this.$router.push("/companies")}catch(t){this.error=t}this.isLoading=!1},cancelDeletion(){this.deleting=!1},deleteCompany(){this.deleting=!0},handleError(){this.error=null},async loadCompany(){this.isLoading=!0;try{await this.$store.dispatch("companies/loadCompany",{id:this.comid})}catch(e){this.error=`${e.message} in getting company.`||"Something went wrong!"}this.isLoading=!1}},async created(){await this.loadCompany(),localStorage.setItem("comid",this.comid),localStorage.setItem("comidwt",this.comid)},computed:{hasCompany(){return!this.isLoading&&this.$store.getters["companies/hasCompany"]},company(){return this.$store.getters["companies/company"]},deletingDialog(){return this.deleting}}};const ns=(0,ie.Z)(ls,[["render",Wo]]);var rs=ns;const ds=e=>((0,z.dD)("data-v-a9dd7e90"),e=e(),(0,z.Cn)(),e),ms={class:"form-control"},us=ds((()=>(0,z._)("label",{for:"numberOfEmployees"},"Number of employees per department (up to 30)",-1))),cs={class:"form-control"},ps=ds((()=>(0,z._)("label",{for:"numberOfDays"},"Number of working days (up to 90)",-1)));function hs(e,t,a,o,s,l){const n=(0,z.up)("base-dialog"),r=(0,z.up)("base-button"),d=(0,z.up)("base-card");return(0,z.wg)(),(0,z.j4)(d,null,{default:(0,z.w5)((()=>[(0,z.Wm)(n,{show:!!s.error,title:"An error occured",onClose:l.handleError,showClose:!0},{default:(0,z.w5)((()=>[(0,z._)("p",null,(0,Ct.zw)(s.error),1)])),_:1},8,["show","onClose"]),(0,z._)("form",{onSubmit:t[2]||(t[2]=(0,i.iM)(((...e)=>l.submit&&l.submit(...e)),["prevent"]))},[(0,z._)("div",ms,[us,(0,z.wy)((0,z._)("input",{type:"number",name:"numberOfEmployees",id:"numberOfEmployees","onUpdate:modelValue":t[0]||(t[0]=e=>s.numberOfEmployees=e),min:"1",max:"30"},null,512),[[i.nr,s.numberOfEmployees]])]),(0,z._)("div",cs,[ps,(0,z.wy)((0,z._)("input",{type:"number",name:"numberOfDays",id:"numberOfDays","onUpdate:modelValue":t[1]||(t[1]=e=>s.numberOfDays=e),min:"1",max:"90"},null,512),[[i.nr,s.numberOfDays]])]),(0,z.Wm)(r,null,{default:(0,z.w5)((()=>[(0,z.Uk)("Generate")])),_:1})],32)])),_:1})}var ys={props:["comid"],data(){return{error:null,numberOfEmployees:1,numberOfDays:1}},methods:{async submit(){const e={comid:this.comid,numberOfEmployees:this.numberOfEmployees,numberOfDays:this.numberOfDays};try{await this.$store.dispatch("generate/generateData",e),this.$router.replace(`/employees/${this.$route.params.comid}`)}catch(t){this.error=`${t.message} in generating data.`||"Something went wrong!"}},handleError(){this.error=null}}};const gs=(0,ie.Z)(ys,[["render",hs],["__scopeId","data-v-a9dd7e90"]]);var ws=gs;const fs={key:1};function ks(e,t,a,i,o,s){const l=(0,z.up)("user-form"),n=(0,z.up)("base-card");return(0,z.wg)(),(0,z.iD)("div",null,[(0,z.Wm)(n,null,{default:(0,z.w5)((()=>[s.hasCurrentUser?((0,z.wg)(),(0,z.j4)(l,{Mode:"old",key:s.currentUser.Email,FirstName:s.currentUser.FirstName,LastName:s.currentUser.LastName,Email:s.currentUser.Email},null,8,["FirstName","LastName","Email"])):((0,z.wg)(),(0,z.iD)("p",fs,"There's something wrong with loading of the user data."))])),_:1})])}var vs={components:{UserForm:Hi},methods:{async loadUser(){await this.$store.dispatch("auth/getUser")}},computed:{currentUser(){return this.$store.getters["auth/currentUser"]},hasCurrentUser(){return this.$store.getters["auth/hasCurrentUser"]}},async created(){await this.loadUser()}};const _s=(0,ie.Z)(vs,[["render",ks]]);var Ds=_s;const bs=e=>((0,z.dD)("data-v-68408fae"),e=e(),(0,z.Cn)(),e),Es={key:0},Is={class:"controls"},Ts={key:1},Cs=bs((()=>(0,z._)("tr",null,[(0,z._)("th",null,"ID"),(0,z._)("th",null,"Name"),(0,z._)("th",null,"Title"),(0,z._)("th",null,"Degree"),(0,z._)("th",null,"Phone"),(0,z._)("th",null,"Department"),(0,z._)("th",null,"Hourly rate"),(0,z._)("th")],-1))),Ss={key:2},$s={key:3};function Vs(e,t,a,i,o,s){const l=(0,z.up)("base-dialog"),n=(0,z.up)("employee-filter"),r=(0,z.up)("base-spinner"),d=(0,z.up)("base-button"),m=(0,z.up)("employee-item"),u=(0,z.up)("router-link"),c=(0,z.up)("base-card");return(0,z.wg)(),(0,z.iD)("div",null,[(0,z.Wm)(l,{show:!!o.error,title:"An error occured",onClose:s.handleError,showClose:!0},{default:(0,z.w5)((()=>[(0,z._)("p",null,(0,Ct.zw)(o.error),1)])),_:1},8,["show","onClose"]),(0,z._)("section",null,[o.show?((0,z.wg)(),(0,z.j4)(n,{key:0,onChangeFilter:s.setFilters},null,8,["onChangeFilter"])):(0,z.kq)("",!0)]),(0,z._)("section",null,[(0,z.Wm)(c,null,{default:(0,z.w5)((()=>[o.isLoading?((0,z.wg)(),(0,z.iD)("div",Es,[(0,z.Wm)(r)])):(0,z.kq)("",!0),(0,z._)("div",Is,[(0,z.Wm)(d,{onClick:s.refresh},{default:(0,z.w5)((()=>[(0,z.Uk)("Refresh")])),_:1},8,["onClick"]),s.hasEmployees?((0,z.wg)(),(0,z.j4)(d,{key:0,link:"",to:"/addemployee"},{default:(0,z.w5)((()=>[(0,z.Uk)("Add employee")])),_:1})):(0,z.kq)("",!0)]),s.hasEmployees?((0,z.wg)(),(0,z.iD)("table",Ts,[Cs,((0,z.wg)(!0),(0,z.iD)(z.HY,null,(0,z.Ko)(s.filteredEmployees,(e=>((0,z.wg)(),(0,z.j4)(m,{key:e.ID,ID:e.ID,FirstName:e.FirstName,LastName:e.LastName,JobTitle:e.JobTitle,Degree:e.Degree,Address:e.Address,Phone:e.Phone,DateOfBirth:e.DateOfBirth,StartOfEmployment:e.StartOfEmployment,HourlyRate:e.HourlyRate,DepartmentId:e.DepartmentId,Department:e.Department},null,8,["ID","FirstName","LastName","JobTitle","Degree","Address","Phone","DateOfBirth","StartOfEmployment","HourlyRate","DepartmentId","Department"])))),128))])):s.hasDepartments?((0,z.wg)(),(0,z.iD)("h3",Ss,[(0,z.Uk)(" There are no employees. "),(0,z.Wm)(u,{to:"/addemployee"},{default:(0,z.w5)((()=>[(0,z.Uk)("Add one")])),_:1}),(0,z.Uk)(", or "),(0,z.Wm)(u,{to:s.generateLink},{default:(0,z.w5)((()=>[(0,z.Uk)("randomly generate both employees and their working times!")])),_:1},8,["to"])])):((0,z.wg)(),(0,z.iD)("h3",$s,[(0,z.Uk)("You must "),(0,z.Wm)(u,{to:"/adddepartment"},{default:(0,z.w5)((()=>[(0,z.Uk)("add department")])),_:1}),(0,z.Uk)(" before you add any employees. ")]))])),_:1})])])}function Ns(e,t,a,i,o,s){const l=(0,z.up)("base-button");return(0,z.wg)(),(0,z.iD)("tr",null,[(0,z._)("td",null,(0,Ct.zw)(a.ID),1),(0,z._)("td",null,(0,Ct.zw)(s.fullName),1),(0,z._)("td",null,(0,Ct.zw)(a.JobTitle),1),(0,z._)("td",null,(0,Ct.zw)(a.Degree),1),(0,z._)("td",null,(0,Ct.zw)(a.Phone),1),(0,z._)("td",null,(0,Ct.zw)(a.Department.name),1),(0,z._)("td",null,(0,Ct.zw)(a.HourlyRate)+" $",1),(0,z._)("td",null,[(0,z.Wm)(l,{link:"",to:s.detailsLink},{default:(0,z.w5)((()=>[(0,z.Uk)("Details")])),_:1},8,["to"])])])}var js={props:["ID","FirstName","LastName","JobTitle","Degree","Phone","Address","DateOfBirth","StartOdEmployment","HourlyRate","DepartmentId","Department"],computed:{fullName(){return`${this.FirstName} ${this.LastName}`},detailsLink(){return null!==localStorage.getItem("depid")?`${this.$route.path.split("/").slice(0,-3).join("/")}/employeedetails/${this.ID}`:`${this.$route.path.split("/").slice(0,-2).join("/")}/employeedetails/${this.ID}`}}};const As=(0,ie.Z)(js,[["render",Ns]]);var Ws=As,Us={components:{EmployeeItem:Ws,EmployeeFilter:(0,z.RC)((()=>a.e(161).then(a.bind(a,9161))))},computed:{hasEmployees(){return!this.isLoading&&this.$store.getters["employees/hasEmployees"]},hasDepartments(){return!this.isLoading&&this.$store.getters["departments/hasDepartments"]},generateLink(){return`/generate/${localStorage.getItem("comid")}`},filteredEmployees(){let e=this.$store.getters["employees/employees"];return e=e.filter((e=>e.ID.includes(this.activeFilters.id))),e=e.filter((e=>e.FirstName.toUpperCase().includes(this.activeFilters.firstName.toUpperCase()))),e=e.filter((e=>e.LastName.toUpperCase().includes(this.activeFilters.lastName.toUpperCase()))),e=e.filter((e=>e.Department.name.toUpperCase().includes(this.activeFilters.department.toUpperCase()))),e=e.filter((e=>0===+this.activeFilters.hourlyRate||+e.HourlyRate===+this.activeFilters.hourlyRate)),e}},watch:{activeFilters(){this.refresh()}},data(){return{isLoading:!1,error:null,activeFilters:{id:"",firstName:"",lastName:"",department:"",hourlyRate:0,pageNumber:0,pageSize:10},show:!1}},methods:{async loadEmployees(){this.isLoading=!0;try{null!==localStorage.getItem("comid")&&null===localStorage.getItem("depid")?await this.$store.dispatch("employees/loadEmployees",{link:`${localStorage.getItem("comid")}?PageNumber=${this.activeFilters.pageNumber}&PageSize=${this.activeFilters.pageSize}`}):await this.$store.dispatch("employees/loadEmployees",{link:`${localStorage.getItem("comid")}/${localStorage.getItem("depid")}?PageNumber=${this.activeFilters.pageNumber}&PageSize=${this.activeFilters.pageSize}`}),this.show=!0}catch(e){this.error=`${e.message} in getting employees.`||"Something went wrong!"}this.isLoading=!1},handleError(){this.error=null},async refresh(){await this.loadEmployees()},setFilters(e){this.activeFilters=e,this.activeFilters.hourlyRate!==isNaN(e.hourlyRate)&&parseFloat(e.hourlyRate)}},async created(){await this.loadEmployees(),localStorage.removeItem("empid")}};const Fs=(0,ie.Z)(Us,[["render",Vs],["__scopeId","data-v-68408fae"]]);var Ls=Fs;const Ms={key:0},Ps={key:2};function Os(e,t,a,i,o,s){const l=(0,z.up)("base-dialog"),n=(0,z.up)("base-spinner"),r=(0,z.up)("employee-form"),d=(0,z.up)("employee-delete-options");return(0,z.wg)(),(0,z.iD)("div",null,[(0,z.Wm)(l,{show:!!o.error,title:"An error occured",onClose:s.handleError,showClose:!0},{default:(0,z.w5)((()=>[(0,z._)("p",null,(0,Ct.zw)(o.error),1)])),_:1},8,["show","onClose"]),o.isLoading?((0,z.wg)(),(0,z.iD)("div",Ms,[(0,z.Wm)(n)])):(0,z.kq)("",!0),s.hasEmployee?((0,z.wg)(),(0,z.j4)(r,{onSaveData:s.saveData,onDeleteEmployee:s.deleteEmployee,key:s.employee.ID,ID:s.employee.ID,FirstName:s.employee.FirstName,LastName:s.employee.LastName,Degree:s.employee.Degree,JobTitle:s.employee.JobTitle,HourlyRate:s.employee.HourlyRate,Department:s.employee.Department,DepartmentId:s.employee.DepartmentId,Address:s.employee.Address,Phone:s.employee.Phone,Email:s.employee.Email,DateOfBirth:s.employee.DateOfBirth,StartOfEmployment:s.employee.StartOfEmployment,Mode:this.EditMode},null,8,["onSaveData","onDeleteEmployee","ID","FirstName","LastName","Degree","JobTitle","HourlyRate","Department","DepartmentId","Address","Phone","Email","DateOfBirth","StartOfEmployment","Mode"])):o.isLoading?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("h3",Ps,"There's some problems with loading of this employee.")),(0,z.Wm)(l,{showClose:!1,fixed:"",title:"Select some delete options",show:o.deleting},{default:(0,z.w5)((()=>[(0,z.Wm)(d,{onCancel:s.cancelDeletion},null,8,["onCancel"])])),_:1},8,["show"])])}const zs=(0,z._)("div",null,[(0,z._)("p",{style:{"text-align":"justify"}}," Would you like to delete the employee? If you choose YES, all of the employee's working times will be deleted as well. ")],-1),qs={class:"form-control"};function Bs(e,t,a,i,o,s){const l=(0,z.up)("base-button");return(0,z.wg)(),(0,z.iD)(z.HY,null,[zs,(0,z._)("div",qs,[(0,z.Wm)(l,{style:{display:"inline"},onClick:s.deleteEmployee},{default:(0,z.w5)((()=>[(0,z.Uk)("Delete")])),_:1},8,["onClick"]),(0,z.Wm)(l,{style:{display:"inline"},onClick:s.cancel},{default:(0,z.w5)((()=>[(0,z.Uk)("Cancel")])),_:1},8,["onClick"])])],64)}var xs={emits:["cancel"],methods:{async deleteEmployee(){try{await this.$store.dispatch("employees/deleteEmployee",{empId:localStorage.getItem("empid")});let e=`/employees/${localStorage.getItem("comid")}`;null!==localStorage.getItem("depid")&&(e+=`/${localStorage.getItem("depid")}`),this.$router.push(e)}catch(e){this.error=`${e.message} in deleting employee.`||"Something went wrong!"}},cancel(){this.$emit("cancel")}}};const Ys=(0,ie.Z)(xs,[["render",Bs]]);var Rs=Ys,Hs={components:{EmployeeForm:fi,EmployeeDeleteOptions:Rs},props:["empid"],data(){return{isLoading:!1,deleting:!1,mode:!0,EditMode:"old",error:null}},methods:{async saveData(e){this.isLoading=!0;try{await this.$store.dispatch("employees/editEmployee",e),this.$router.push("/employees/"+localStorage.getItem("comid"))}catch(t){this.error=t}this.isLoading=!1},async loadEmployee(){this.isLoading=!0;try{await this.$store.dispatch("employees/loadEmployee",{empid:this.empid})}catch(e){this.error=`${e.message} in getting employee.`||"Something went wrong!"}this.isLoading=!1},handleError(){this.error=null},cancelDeletion(){this.deleting=!1},deleteEmployee(){this.deleting=!0}},async created(){await this.loadEmployee(),localStorage.setItem("empid",this.empid),localStorage.setItem("empidwt",this.empid)},computed:{hasEmployee(){return!this.isLoading&&this.$store.getters["employees/hasEmployee"]},employee(){return this.$store.getters["employees/employee"]}}};const Zs=(0,ie.Z)(Hs,[["render",Os]]);var Js=Zs;const Gs={class:"controls"},Ks={key:0},Qs={key:1},Xs={key:2};function el(e,t,a,i,o,s){const l=(0,z.up)("base-dialog"),n=(0,z.up)("base-button"),r=(0,z.up)("base-spinner"),d=(0,z.up)("department-item"),m=(0,z.up)("router-link"),u=(0,z.up)("base-card");return(0,z.wg)(),(0,z.iD)("div",null,[(0,z.Wm)(l,{show:!!o.error,title:"An error occured",onClose:s.handleError,showClose:!0},{default:(0,z.w5)((()=>[(0,z._)("p",null,(0,Ct.zw)(o.error),1)])),_:1},8,["show","onClose"]),(0,z._)("section",null,[(0,z.Wm)(u,null,{default:(0,z.w5)((()=>[(0,z._)("div",Gs,[(0,z.Wm)(n,{onClick:s.refresh},{default:(0,z.w5)((()=>[(0,z.Uk)("Refresh")])),_:1},8,["onClick"]),(0,z.Wm)(n,{link:"",to:"/adddepartment"},{default:(0,z.w5)((()=>[(0,z.Uk)("Add another department")])),_:1})]),o.isLoading?((0,z.wg)(),(0,z.iD)("div",Ks,[(0,z.Wm)(r)])):(0,z.kq)("",!0),s.hasDepartments?((0,z.wg)(),(0,z.iD)("ul",Qs,[((0,z.wg)(!0),(0,z.iD)(z.HY,null,(0,z.Ko)(s.filteredDepartments,(e=>((0,z.wg)(),(0,z.j4)(d,{key:e.ID,comid:this.comid,ID:e.ID,Name:e.Name},null,8,["comid","ID","Name"])))),128))])):o.isLoading?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("h3",Xs,[(0,z.Uk)(" There are no departments for this company. "),(0,z.Wm)(m,{to:"/adddepartment"},{default:(0,z.w5)((()=>[(0,z.Uk)("Add one!")])),_:1})]))])),_:1})])])}const tl=e=>((0,z.dD)("data-v-ffa6283a"),e=e(),(0,z.Cn)(),e),al=tl((()=>(0,z._)("span",null,"(unique department ID)",-1))),il={class:"actions"};function ol(e,t,a,i,o,s){const l=(0,z.up)("base-button");return(0,z.wg)(),(0,z.iD)("li",null,[(0,z._)("h2",null,[(0,z.Uk)((0,Ct.zw)(a.ID)+" ",1),al]),(0,z._)("h2",null,(0,Ct.zw)(a.Name),1),(0,z._)("div",il,[(0,z.Wm)(l,{link:"",to:s.detailsLink},{default:(0,z.w5)((()=>[(0,z.Uk)("Details")])),_:1},8,["to"])])])}var sl={props:["ID","Name"],computed:{detailsLink(){return`${this.$route.path}/${this.ID}`}}};const ll=(0,ie.Z)(sl,[["render",ol],["__scopeId","data-v-ffa6283a"]]);var nl=ll,rl={data(){return{isLoading:!1,error:null}},props:["comid"],components:{DepartmentItem:nl},computed:{hasDepartments(){return!this.isLoading&&this.$store.getters["departments/hasDepartments"]},filteredDepartments(){return this.$store.getters["departments/departments"]}},methods:{async loadDepartments(){this.isLoading=!0;try{await this.$store.dispatch("departments/loadDepartments",{comid:this.comid})}catch(e){this.error=`${e.message} in getting departments.`||"Something went wrong!"}this.isLoading=!1},handleError(){this.error=null},async refresh(){await this.loadDepartments()}},async created(){await this.loadDepartments(),localStorage.removeItem("depid")}};const dl=(0,ie.Z)(rl,[["render",el],["__scopeId","data-v-06caee26"]]);var ml=dl;const ul={key:0},cl={key:2};function pl(e,t,a,i,o,s){const l=(0,z.up)("base-dialog"),n=(0,z.up)("base-spinner"),r=(0,z.up)("department-form"),d=(0,z.up)("department-delete-options");return(0,z.wg)(),(0,z.iD)("div",null,[(0,z.Wm)(l,{show:!!o.error,title:"An error occured",onClose:s.handleError,showClose:!0},{default:(0,z.w5)((()=>[(0,z._)("p",null,(0,Ct.zw)(o.error),1)])),_:1},8,["show","onClose"]),o.isLoading?((0,z.wg)(),(0,z.iD)("div",ul,[(0,z.Wm)(n)])):s.hasDepartment?((0,z.wg)(),(0,z.j4)(r,{onSaveData:s.saveData,onDeleteDepartment:s.deleteDepartment,key:s.department.ID,comid:this.comid,ID:s.department.ID,Name:s.department.Name,Mode:this.EditMode},null,8,["onSaveData","onDeleteDepartment","comid","ID","Name","Mode"])):o.isLoading?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("h3",cl,"There's some problems with loading of this department.")),(0,z.Wm)(l,{showClose:!1,fixed:"",title:"Select some delete options",show:o.deleting},{default:(0,z.w5)((()=>[(0,z.Wm)(d,{onCancel:s.cancelDeletion},null,8,["onCancel"])])),_:1},8,["show"])])}const hl=e=>((0,z.dD)("data-v-49f232c6"),e=e(),(0,z.Cn)(),e),yl=hl((()=>(0,z._)("p",{style:{"text-align":"justify"}}," Would you like to delete all of the employees from this department? If you choose YES, all of the employees and their working times will be deleted. ",-1))),gl={class:"form-control"},wl=hl((()=>(0,z._)("label",{for:"deleteAll"},"Delete all employees:",-1))),fl=hl((()=>(0,z._)("option",{value:"0",selected:""},"NO",-1))),kl=hl((()=>(0,z._)("option",{value:"1"},"YES",-1))),vl=[fl,kl],_l={key:0},Dl=hl((()=>(0,z._)("p",{style:{"text-align":"justify"}}," Select destination department you would like to transfer the employees to. ",-1))),bl={class:"form-control"},El=hl((()=>(0,z._)("label",{for:"companyId"},"Select department:",-1))),Il=["value"],Tl={key:1},Cl={class:"form-control"};function Sl(e,t,a,o,s,l){const n=(0,z.up)("base-button");return(0,z.wg)(),(0,z.iD)(z.HY,null,[(0,z._)("div",null,[yl,(0,z._)("div",gl,[wl,(0,z.wy)((0,z._)("select",{name:"deleteAll",id:"deleteAll","onUpdate:modelValue":t[0]||(t[0]=e=>s.delSelected=e)},vl,512),[[i.bM,s.delSelected]])])]),l.delSel>0?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("div",_l,[Dl,(0,z._)("div",bl,[El,s.loadedDepartments.length>0?(0,z.wy)(((0,z.wg)(),(0,z.iD)("select",{key:0,name:"departmentId","onUpdate:modelValue":t[1]||(t[1]=e=>s.depId=e),id:"departmentId"},[((0,z.wg)(!0),(0,z.iD)(z.HY,null,(0,z.Ko)(l.departments,(e=>((0,z.wg)(),(0,z.iD)("option",{key:e.ID,value:e.ID},(0,Ct.zw)(e.Name),9,Il)))),128))],512)),[[i.bM,s.depId]]):((0,z.wg)(),(0,z.iD)("p",Tl," There are no departments to choose from. Either add some departments to the company, or delete all the employees. "))])])),(0,z._)("div",Cl,[(0,z.Wm)(n,{style:{display:"inline"},onClick:l.deleteDepartment},{default:(0,z.w5)((()=>[(0,z.Uk)("Delete")])),_:1},8,["onClick"]),(0,z.Wm)(n,{style:{display:"inline"},onClick:l.cancel},{default:(0,z.w5)((()=>[(0,z.Uk)("Cancel")])),_:1},8,["onClick"])])],64)}var $l={emits:["cancel"],data(){return{delSelected:(0,as.iH)("1"),depId:(0,as.iH)(""),loadedDepartments:[]}},computed:{delSel(){return this.delSelected},departments(){return this.loadedDepartments}},watch:{async delSelected(){0==this.delSelected&&await this.loadDepartments()}},methods:{async deleteDepartment(){const e={depId:parseInt(localStorage.getItem("depid")),targetDepId:this.depId>0?this.depId:0,deleteEmployees:0!=this.delSelected};try{await this.$store.dispatch("departments/deleteDepartment",e),this.$router.push("/departments/"+localStorage.getItem("comid"))}catch(t){this.error=`${t.message} in deleting department.`||"Something went wrong!"}},cancel(){this.$emit("cancel")},async loadDepartments(){try{await this.$store.dispatch("departments/loadDepartments",{comid:parseInt(localStorage.getItem("comid"))})}catch(e){this.error=`${e.message} in getting department.`||"Something went wrong!"}this.loadedDepartments=this.$store.getters["departments/departments"].filter((e=>+e.ID!==parseInt(localStorage.getItem("depid"))))}}};const Vl=(0,ie.Z)($l,[["render",Sl],["__scopeId","data-v-49f232c6"]]);var Nl=Vl,jl={components:{DepartmentForm:Ia,DepartmentDeleteOptions:Nl},props:["depid","comid"],data(){return{error:null,isLoading:!1,deleting:!1,mode:!0,EditMode:"old"}},methods:{async saveData(e){await this.$store.dispatch("departments/editDepartment",e),this.$router.push(`/departments/${this.comid}`)},cancelDeletion(){this.deleting=!1},deleteDepartment(){this.deleting=!0},async loadDepartment(){this.isLoading=!0;try{await this.$store.dispatch("departments/loadDepartment",{comid:this.comid,depid:this.depid})}catch(e){this.error=`${e.message} in getting department.`||"Something went wrong!"}this.isLoading=!1},handleError(){this.error=null}},async created(){await this.loadDepartment(),localStorage.setItem("depid",this.depid),localStorage.setItem("depidwt",this.depid)},computed:{hasDepartment(){return!this.isLoading&&this.$store.getters["departments/hasDepartment"]},department(){return this.$store.getters["departments/department"]}}};const Al=(0,ie.Z)(jl,[["render",pl]]);var Wl=Al;const Ul=e=>((0,z.dD)("data-v-18791de4"),e=e(),(0,z.Cn)(),e),Fl={key:0},Ll={class:"form-control"},Ml=Ul((()=>(0,z._)("label",{for:"email"},"Email",-1))),Pl={class:"form-control"},Ol=Ul((()=>(0,z._)("label",{for:"username"},"Password",-1)));function zl(e,t,a,o,s,l){const n=(0,z.up)("base-dialog"),r=(0,z.up)("base-spinner"),d=(0,z.up)("base-button"),m=(0,z.up)("base-card");return(0,z.wg)(),(0,z.iD)("div",null,[(0,z.Wm)(n,{show:!!s.error,title:"An error occured",showClose:!0,onClose:l.handleError},{default:(0,z.w5)((()=>[(0,z._)("p",null,(0,Ct.zw)(s.error),1)])),_:1},8,["show","onClose"]),s.isLoading?((0,z.wg)(),(0,z.iD)("div",Fl,[(0,z.Wm)(r)])):(0,z.kq)("",!0),(0,z.Wm)(m,null,{default:(0,z.w5)((()=>[(0,z._)("form",{onSubmit:t[2]||(t[2]=(0,i.iM)(((...e)=>l.submitData&&l.submitData(...e)),["prevent"]))},[(0,z._)("div",Ll,[Ml,(0,z.wy)((0,z._)("input",{type:"text",id:"email",name:"email","onUpdate:modelValue":t[0]||(t[0]=e=>s.email.val=e)},null,512),[[i.nr,s.email.val]])]),(0,z._)("div",Pl,[Ol,(0,z.wy)((0,z._)("input",{type:"password",id:"password",name:"password","onUpdate:modelValue":t[1]||(t[1]=e=>s.password.val=e)},null,512),[[i.nr,s.password.val]])]),(0,z.Wm)(d,null,{default:(0,z.w5)((()=>[(0,z.Uk)("Login")])),_:1})],32)])),_:1})])}var ql={data(){return{error:null,isLoading:!1,formIsValid:!0,email:{isValid:!0,val:""},password:{isValid:!0,val:""}}},methods:{handleError(){this.error=null},async submitData(){if(this.validateForm(),this.formIsValid){try{this.isLoading=!0,await this.$store.dispatch("auth/login",{Email:this.email.val,Password:this.password.val}),this.$router.push("/companies")}catch(e){this.error=`${e.message} in logging in.`||"Something went wrong!"}this.isLoading=!1}else this.isLoading=!1},validateForm(){this.formIsValid=!0,""===this.email&&(this.email.isValid=!1,this.formIsValid=!1),""===this.password&&(this.password.isValid=!1,this.formIsValid=!1)}}};const Bl=(0,ie.Z)(ql,[["render",zl],["__scopeId","data-v-18791de4"]]);var xl=Bl;const Yl=e=>((0,z.dD)("data-v-56eff514"),e=e(),(0,z.Cn)(),e),Rl={key:0},Hl={key:1},Zl=Yl((()=>(0,z._)("tr",null,[(0,z._)("th",null,"ID"),(0,z._)("th",null,"Full name"),(0,z._)("th",null,"Department"),(0,z._)("th",null,"Hourly rate"),(0,z._)("th",null,"Total working days"),(0,z._)("th",null,"Regular working hours"),(0,z._)("th",null,"Overtime working hours"),(0,z._)("th",null,"Total earnings")],-1))),Jl={key:2};function Gl(e,t,a,i,o,s){const l=(0,z.up)("statistics-filter"),n=(0,z.up)("base-dialog"),r=(0,z.up)("base-spinner"),d=(0,z.up)("base-card");return(0,z.wg)(),(0,z.iD)("div",null,[(0,z._)("section",null,[(0,z.Wm)(l,{onFilterChanged:s.changeData},null,8,["onFilterChanged"])]),(0,z.Wm)(n,{show:!!o.error,title:"An error occured",onClose:s.handleError,showClose:!0},{default:(0,z.w5)((()=>[(0,z._)("p",null,(0,Ct.zw)(o.error),1)])),_:1},8,["show","onClose"]),(0,z._)("section",null,[(0,z.Wm)(d,null,{default:(0,z.w5)((()=>[o.isLoading?((0,z.wg)(),(0,z.iD)("div",Rl,[(0,z.Wm)(r)])):(0,z.kq)("",!0),s.hasStatistics?((0,z.wg)(),(0,z.iD)("table",Hl,[Zl,((0,z.wg)(!0),(0,z.iD)(z.HY,null,(0,z.Ko)(s.statistics,(e=>((0,z.wg)(),(0,z.iD)("tr",{key:e.ID},[(0,z._)("td",null,(0,Ct.zw)(e.ID),1),(0,z._)("td",null,(0,Ct.zw)(e.FirstName+" "+e.LastName),1),(0,z._)("td",null,(0,Ct.zw)(e.Department),1),(0,z._)("td",null,(0,Ct.zw)(e.HourlyRate)+" $",1),(0,z._)("td",null,(0,Ct.zw)(e.WorkingDays),1),(0,z._)("td",null,(0,Ct.zw)(e.RegularWorkingHours),1),(0,z._)("td",null,(0,Ct.zw)(e.OvertimeHours),1),(0,z._)("td",null,(0,Ct.zw)(e.Earnings.toFixed(2))+" $",1)])))),128))])):o.isLoading?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("p",Jl," There are no statistics for this company, or for this period. You must add some data first, or revisit filter section. "))])),_:1})])])}const Kl=e=>((0,z.dD)("data-v-67d9ff12"),e=e(),(0,z.Cn)(),e),Ql={class:"form-control",style:{display:"block","text-align":"center"}},Xl=Kl((()=>(0,z._)("label",{for:"choice"},"Select the ammount of data to be displayed",-1))),en=Kl((()=>(0,z._)("option",{value:"0"},"All of it",-1))),tn=Kl((()=>(0,z._)("option",{value:"1"},"Specific",-1))),an=[en,tn],on=Kl((()=>(0,z._)("br",null,null,-1))),sn={key:0,style:{"text-align":"center"}},ln={class:"form-control"},nn=Kl((()=>(0,z._)("label",{for:"year"},"Year",-1))),rn=["value"],dn={class:"form-control"},mn=Kl((()=>(0,z._)("label",{for:"month"},"Month",-1))),un=Kl((()=>(0,z._)("option",{value:0,selected:""},"Entire year",-1))),cn=Kl((()=>(0,z._)("option",{value:1},"January",-1))),pn=Kl((()=>(0,z._)("option",{value:2},"February",-1))),hn=Kl((()=>(0,z._)("option",{value:3},"March",-1))),yn=Kl((()=>(0,z._)("option",{value:4},"April",-1))),gn=Kl((()=>(0,z._)("option",{value:5},"May",-1))),wn=Kl((()=>(0,z._)("option",{value:6},"June",-1))),fn=Kl((()=>(0,z._)("option",{value:7},"July",-1))),kn=Kl((()=>(0,z._)("option",{value:8},"August",-1))),vn=Kl((()=>(0,z._)("option",{value:9},"September",-1))),_n=Kl((()=>(0,z._)("option",{value:10},"October",-1))),Dn=Kl((()=>(0,z._)("option",{value:11},"November",-1))),bn=Kl((()=>(0,z._)("option",{value:12},"December",-1))),En=[un,cn,pn,hn,yn,gn,wn,fn,kn,vn,_n,Dn,bn];function In(e,t,a,o,s,l){const n=(0,z.up)("base-card");return(0,z.wg)(),(0,z.j4)(n,null,{default:(0,z.w5)((()=>[(0,z._)("form",null,[(0,z._)("div",Ql,[Xl,(0,z.wy)((0,z._)("select",{name:"choice",id:"choice","onUpdate:modelValue":t[0]||(t[0]=e=>s.choice=e),onChange:t[1]||(t[1]=(...e)=>l.changeFilter&&l.changeFilter(...e))},an,544),[[i.bM,s.choice]])]),on,"1"===l.choiceChanged?((0,z.wg)(),(0,z.iD)("div",sn,[(0,z._)("div",ln,[nn,(0,z.wy)((0,z._)("select",{name:"year",id:"year","onUpdate:modelValue":t[2]||(t[2]=e=>s.filterData.year=e),onChange:t[3]||(t[3]=(...e)=>l.changeFilter&&l.changeFilter(...e))},[((0,z.wg)(!0),(0,z.iD)(z.HY,null,(0,z.Ko)(l.yearsForSelect,(e=>((0,z.wg)(),(0,z.iD)("option",{value:e,key:e},(0,Ct.zw)(e),9,rn)))),128))],544),[[i.bM,s.filterData.year]])]),(0,z._)("div",dn,[mn,(0,z.wy)((0,z._)("select",{name:"month",id:"month","onUpdate:modelValue":t[4]||(t[4]=e=>s.filterData.month=e),onChange:t[5]||(t[5]=(...e)=>l.changeFilter&&l.changeFilter(...e))},En,544),[[i.bM,s.filterData.month]])])])):(0,z.kq)("",!0)])])),_:1})}var Tn={data(){return{years:[],choice:"0",filterData:{month:0,year:0}}},emits:["filter-changed"],computed:{yearsForSelect(){return this.years},choiceChanged(){return this.choice}},methods:{changeFilter(){this.$emit("filter-changed",this.filterData)}},created(){for(let e=(new Date).getFullYear();e>=2e3;e--)this.years.push(e)}};const Cn=(0,ie.Z)(Tn,[["render",In],["__scopeId","data-v-67d9ff12"]]);var Sn=Cn,$n={data(){return{error:null,isLoading:!1,filterData:{month:0,year:0}}},components:{StatisticsFilter:Sn},methods:{async loadStatistics(){this.isLoading=!0;try{await this.$store.dispatch("statistics/loadStatistics",{comid:parseInt(localStorage.getItem("comid")),month:this.filterData.month,year:this.filterData.year})}catch(e){this.error=`${e.message} in getting statistics.`||"Something went wrong!"}this.isLoading=!1},async changeData(e){this.filterData=e,await this.loadStatistics()},handleError(){this.error=null}},computed:{statistics(){return this.$store.getters["statistics/statistics"]},hasStatistics(){return this.$store.getters["statistics/hasStatistics"]}},async created(){await this.loadStatistics()}};const Vn=(0,ie.Z)($n,[["render",Gl],["__scopeId","data-v-56eff514"]]);var Nn=Vn;const jn=e=>((0,z.dD)("data-v-b3fe816c"),e=e(),(0,z.Cn)(),e),An={class:"controls"},Wn={key:0},Un={key:1},Fn=jn((()=>(0,z._)("tr",null,[(0,z._)("th",null,"ID"),(0,z._)("th",null,"Employee name"),(0,z._)("th",null,"Date"),(0,z._)("th",null,"Start time"),(0,z._)("th",null,"End time"),(0,z._)("th")],-1))),Ln={key:2},Mn={class:"form-control",style:{"text-align":"center"}};function Pn(e,t,a,i,o,s){const l=(0,z.up)("base-dialog"),n=(0,z.up)("working-time-form"),r=(0,z.up)("add-working-time"),d=(0,z.up)("working-time-filter"),m=(0,z.up)("base-button"),u=(0,z.up)("base-spinner"),c=(0,z.up)("working-time-item"),p=(0,z.up)("base-card");return(0,z.wg)(),(0,z.iD)("div",null,[(0,z.Wm)(l,{show:!!o.error,title:"An error occured",onClose:s.handleError,showClose:!0},{default:(0,z.w5)((()=>[(0,z._)("p",null,(0,Ct.zw)(o.error),1)])),_:1},8,["show","onClose"]),(0,z.Wm)(l,{show:o.editing,title:"Edit working time",showClose:!1},{default:(0,z.w5)((()=>[s.hasWorkingTime?((0,z.wg)(),(0,z.j4)(n,{key:s.workingTime.ID,ID:s.workingTime.ID,Employee:s.workingTime.Employee,WtDate:s.workingTime.WtDate,StartTime:s.workingTime.StartTime,EndTime:s.workingTime.EndTime,Mode:!0===o.editing?"old":"new",onClose:s.closeEditor,onCancel:s.cancelEditing,onCatchError:s.catchError},null,8,["ID","Employee","WtDate","StartTime","EndTime","Mode","onClose","onCancel","onCatchError"])):(0,z.kq)("",!0)])),_:1},8,["show"]),(0,z.Wm)(l,{show:o.creating,title:"Add working data",showClose:!1},{default:(0,z.w5)((()=>[(0,z.Wm)(r,{onClose:s.close,onCancel:s.close,onCatchError:s.catchError},null,8,["onClose","onCancel","onCatchError"])])),_:1},8,["show"]),(0,z._)("section",null,[o.show?((0,z.wg)(),(0,z.j4)(d,{key:0,onParamsChanged:s.setParams},null,8,["onParamsChanged"])):(0,z.kq)("",!0)]),(0,z._)("section",null,[(0,z.Wm)(p,null,{default:(0,z.w5)((()=>[(0,z._)("div",An,[(0,z.Wm)(m,{onClick:s.refresh},{default:(0,z.w5)((()=>[(0,z.Uk)("Refresh")])),_:1},8,["onClick"]),s.hasWorkingTimes?((0,z.wg)(),(0,z.j4)(m,{key:0,onClick:s.create},{default:(0,z.w5)((()=>[(0,z.Uk)("Add a working time")])),_:1},8,["onClick"])):(0,z.kq)("",!0),o.showAddMultiple?((0,z.wg)(),(0,z.j4)(m,{key:1,link:"",to:s.addMultipleWTsLink,mode:"a",style:{display:"inline"}},{default:(0,z.w5)((()=>[(0,z.Uk)("Add multiple working times")])),_:1},8,["to"])):(0,z.kq)("",!0)]),o.isLoading?((0,z.wg)(),(0,z.iD)("div",Wn,[(0,z.Wm)(u)])):s.hasWorkingTimes?((0,z.wg)(),(0,z.iD)("table",Un,[Fn,((0,z.wg)(!0),(0,z.iD)(z.HY,null,(0,z.Ko)(s.filteredWorkingTimes,(e=>((0,z.wg)(),(0,z.j4)(c,{onDelete:s.deleteWT,onEdit:s.editWT,key:e.ID,ID:e.ID,Employee:e.Employee,WtDate:e.Date,StartTime:e.StartTime,EndTime:e.EndTime},null,8,["onDelete","onEdit","ID","Employee","WtDate","StartTime","EndTime"])))),128))])):((0,z.wg)(),(0,z.iD)("h3",Ln,[(0,z.Uk)(" There are no working times. "),(0,z.Wm)(m,{onClick:s.create,id:"addLink"},{default:(0,z.w5)((()=>[(0,z.Uk)("Add one")])),_:1},8,["onClick"])]))])),_:1}),(0,z.Wm)(l,{show:o.deleting,title:"Do you want to delete selected working time?",showClose:!1},{default:(0,z.w5)((()=>[(0,z._)("div",Mn,[(0,z.Wm)(m,{style:{display:"inline"},onClick:s.deleteWTnow},{default:(0,z.w5)((()=>[(0,z.Uk)("Delete")])),_:1},8,["onClick"]),(0,z.Wm)(m,{style:{display:"inline"},onClick:s.cancel},{default:(0,z.w5)((()=>[(0,z.Uk)("Cancel")])),_:1},8,["onClick"])])])),_:1},8,["show"])])])}const On={id:"actions"};function zn(e,t,a,i,o,s){const l=(0,z.up)("base-button");return(0,z.wg)(),(0,z.iD)("tr",null,[(0,z._)("td",null,(0,Ct.zw)(a.ID),1),(0,z._)("td",null,(0,Ct.zw)(s.fullName),1),(0,z._)("td",null,(0,Ct.zw)(new Date(a.WtDate).toDateString()),1),(0,z._)("td",null,(0,Ct.zw)(a.StartTime),1),(0,z._)("td",null,(0,Ct.zw)(a.EndTime),1),(0,z._)("td",On,[(0,z.Wm)(l,{type:"button",style:{display:"inline"},onClick:s.editWT},{default:(0,z.w5)((()=>[(0,z.Uk)("Edit")])),_:1},8,["onClick"]),(0,z.Wm)(l,{type:"button",style:{display:"inline"},onClick:s.deleteWT},{default:(0,z.w5)((()=>[(0,z.Uk)("Delete")])),_:1},8,["onClick"])])])}var qn={props:["ID","Employee","WtDate","StartTime","EndTime"],emits:["delete","edit"],computed:{fullName(){return`${this.Employee.firstName} ${this.Employee.lastName}`}},methods:{deleteWT(){this.$emit("delete",this.ID)},editWT(){this.$emit("edit",this.ID)}}};const Bn=(0,ie.Z)(qn,[["render",zn],["__scopeId","data-v-4462d251"]]);var xn=Bn;const Yn=e=>((0,z.dD)("data-v-ff8eb9be"),e=e(),(0,z.Cn)(),e),Rn={key:0,class:"form-control"},Hn=Yn((()=>(0,z._)("label",{for:"ID"},"ID",-1))),Zn=["value"],Jn={class:"form-control"},Gn=Yn((()=>(0,z._)("label",{for:"Name"},"Name",-1))),Kn=["value"],Qn=Yn((()=>(0,z._)("label",{for:"wtDate"},"Date",-1))),Xn=Yn((()=>(0,z._)("label",{for:"StartTime"},"Start time",-1))),er=Yn((()=>(0,z._)("label",{for:"EndTime"},"End time",-1))),tr={key:1};function ar(e,t,a,o,s,l){const n=(0,z.up)("base-button");return(0,z.wg)(),(0,z.iD)("div",null,[(0,z._)("form",{onSubmit:t[3]||(t[3]=(0,i.iM)((e=>l.submitForm()),["prevent"]))},["old"===this.Mode?((0,z.wg)(),(0,z.iD)("div",Rn,[Hn,(0,z._)("input",{type:"text",name:"ID",disabled:"",value:this.ID},null,8,Zn)])):(0,z.kq)("",!0),(0,z._)("div",Jn,[Gn,(0,z._)("input",{type:"text",name:"Name",disabled:"",value:l.fullName},null,8,Kn)]),(0,z._)("div",{class:(0,Ct.C_)(["form-control",{invalid:!s.wtDate.isValid}])},[Qn,(0,z._)("input",{type:"text",name:"wtDate",ref:"wtDate",onBlur:t[0]||(t[0]=e=>l.clearValidity("wtDate"))},null,544)],2),(0,z._)("div",{class:(0,Ct.C_)(["form-control",{invalid:!s.wtStartTime.isValid}])},[Xn,(0,z._)("input",{type:"time",name:"StartTime",ref:"wtStartTime",onBlur:t[1]||(t[1]=e=>l.clearValidity("wtStartTime"))},null,544)],2),(0,z._)("div",{class:(0,Ct.C_)(["form-control",{invalid:!s.wtEndTime.isValid}])},[er,(0,z._)("input",{type:"time",name:"EndTime",ref:"wtEndTime",onBlur:t[2]||(t[2]=e=>l.clearValidity("wtEndTime"))},null,544)],2),s.formIsValid?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("p",tr,"Please, fix the above errors and submit again.")),(0,z.Wm)(n,{style:{display:"inline"}},{default:(0,z.w5)((()=>[(0,z.Uk)("Save")])),_:1}),(0,z.Wm)(n,{style:{display:"inline"},type:"button",onClick:l.cancel},{default:(0,z.w5)((()=>[(0,z.Uk)("Cancel")])),_:1},8,["onClick"])],32)])}var ir={props:["ID","Employee","WtDate","StartTime","EndTime","Mode"],emits:["close","cancel","catchError"],methods:{cancel(){this.$emit("cancel")},async submitForm(){try{if(this.wtDate.val=this.$refs.wtDate.value,this.wtStartTime.val=this.$refs.wtStartTime.value,this.wtEndTime.val=this.$refs.wtEndTime.value,this.validateForm(),!this.formIsValid)return;const e={wtDate:this.wtDate.val,wtStartTime:this.wtStartTime.val,wtEndTime:this.wtEndTime.val,wtEmployeeId:this.Employee.id};"old"===this.Mode&&(e.wtId=this.ID),await this.$store.dispatch("workingTimes/editWorkingTime",e),this.$emit("close")}catch(e){this.$emit("cancel"),this.$emit("catchError",e)}},clearValidity(e){this[e].isValid=!0},validateForm(){this.formIsValid=!0,""!==this.wtDate.val&&oa()(this.wtDate.val,"DD.MM.YYYY",!0).isValid()||(this.wtDate.isValid=!1,this.formIsValid=!1),this.wtStartTime.val.match(/\d+:\d+/)||(this.wtStartTime.isValid=!1,this.formIsValid=!1),this.wtEndTime.val.match(/\d+:\d+/)||(this.wtEndTime.isValid=!1,this.formIsValid=!1)}},data(){return{formIsValid:!0,wtDate:{isValid:!0,val:""},wtEndTime:{isValid:!0,val:""},wtStartTime:{isValid:!0,val:""}}},computed:{fullName(){return`${this.Employee.firstName} ${this.Employee.lastName}`}},mounted(){"old"===this.Mode&&(this.$refs.wtDate.value=oa()(this.WtDate.substring(0,10)).format("DD.MM.YYYY"),this.$refs.wtStartTime.value=this.StartTime,this.$refs.wtEndTime.value=this.EndTime)}};const or=(0,ie.Z)(ir,[["render",ar],["__scopeId","data-v-ff8eb9be"]]);var sr=or;const lr=e=>((0,z.dD)("data-v-3cbe13c8"),e=e(),(0,z.Cn)(),e),nr=lr((()=>(0,z._)("label",{for:"employeeId"},"Employee",-1))),rr=lr((()=>(0,z._)("option",{value:"0",style:{"font-style":"italic"},disabled:""}," Select an employee ",-1))),dr=["value"],mr={key:1},ur=lr((()=>(0,z._)("p",null," There are no employees in this company. You must first add the employees. ",-1))),cr=[ur],pr=lr((()=>(0,z._)("label",{for:"wtDate"},"Date",-1))),hr=lr((()=>(0,z._)("label",{for:"StartTime"},"Start time",-1))),yr=lr((()=>(0,z._)("label",{for:"EndTime"},"End time",-1))),gr={key:2};function wr(e,t,a,o,s,l){const n=(0,z.up)("base-button");return(0,z.wg)(),(0,z.iD)("form",{onSubmit:t[7]||(t[7]=(0,i.iM)(((...e)=>l.submitData&&l.submitData(...e)),["prevent"]))},[l.hasEmployees?((0,z.wg)(),(0,z.iD)("div",{key:0,class:(0,Ct.C_)(["form-control",{invalid:!s.employeeId.isValid}])},[nr,(0,z.wy)((0,z._)("select",{name:"employeeId",id:"employeeId","onUpdate:modelValue":t[0]||(t[0]=e=>s.employeeId.val=e)},[rr,((0,z.wg)(!0),(0,z.iD)(z.HY,null,(0,z.Ko)(l.employees,(e=>((0,z.wg)(),(0,z.iD)("option",{key:e.ID,value:e.ID},(0,Ct.zw)(e.FirstName+" "+e.LastName),9,dr)))),128))],512),[[i.bM,s.employeeId.val]])],2)):((0,z.wg)(),(0,z.iD)("div",mr,cr)),(0,z._)("div",{class:(0,Ct.C_)(["form-control",{invalid:!s.wtDate.isValid}])},[pr,(0,z.wy)((0,z._)("input",{type:"text",name:"wtDate",onBlur:t[1]||(t[1]=e=>l.clearValidity("wtDate")),"onUpdate:modelValue":t[2]||(t[2]=e=>s.wtDate.val=e)},null,544),[[i.nr,s.wtDate.val]])],2),(0,z._)("div",{class:(0,Ct.C_)(["form-control",{invalid:!s.wtStartTime.isValid}])},[hr,(0,z.wy)((0,z._)("input",{type:"time",name:"wtStartTime",onBlur:t[3]||(t[3]=e=>l.clearValidity("wtStartTime")),"onUpdate:modelValue":t[4]||(t[4]=e=>s.wtStartTime.val=e)},null,544),[[i.nr,s.wtStartTime.val]])],2),(0,z._)("div",{class:(0,Ct.C_)(["form-control",{invalid:!s.wtEndTime.isValid}])},[yr,(0,z.wy)((0,z._)("input",{type:"time",name:"wtEndTime",onBlur:t[5]||(t[5]=e=>l.clearValidity("wtEndTime")),"onUpdate:modelValue":t[6]||(t[6]=e=>s.wtEndTime.val=e)},null,544),[[i.nr,s.wtEndTime.val]])],2),s.formIsValid?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("p",gr,"Please, fix the above errors and submit again.")),(0,z.Wm)(n,{style:{display:"inline"}},{default:(0,z.w5)((()=>[(0,z.Uk)("Save")])),_:1}),(0,z.Wm)(n,{style:{display:"inline"},type:"button",onClick:l.cancel},{default:(0,z.w5)((()=>[(0,z.Uk)("Cancel")])),_:1},8,["onClick"])],32)}var fr={emits:["close","cancel","catchError"],data(){return{formIsValid:!0,employeeId:{isValid:!0,val:"0"},wtDate:{isValid:!0,val:""},wtStartTime:{isValid:!0,val:""},wtEndTime:{isValid:!0,val:""}}},methods:{clearValidity(e){this[e].isValid=!0},cancel(){this.$emit("cancel")},async submitData(){try{if(this.validateForm(),!this.formIsValid)return;const e={wtEmployeeId:this.employeeId.val,wtDate:this.wtDate.val,wtStartTime:this.wtStartTime.val,wtEndTime:this.wtEndTime.val};await this.$store.dispatch("workingTimes/addWorkingTime",e),this.$emit("close")}catch(e){this.$emit("cancel"),this.$emit("catchError",e)}},validateForm(){this.formIsValid=!0,"0"===this.employeeId.val&&(this.employeeId.isValid=!1,this.formIsValid=!1),""!==this.wtDate.val&&oa()(this.wtDate.val,"DD.MM.YYYY",!0).isValid()||(this.wtDate.isValid=!1,this.formIsValid=!1),this.wtStartTime.val.match(/\d+:\d+/)||(this.wtStartTime.isValid=!1,this.formIsValid=!1),this.wtEndTime.val.match(/\d+:\d+/)||(this.wtEndTime.isValid=!1,this.formIsValid=!1)}},computed:{employees(){return this.$store.getters["employees/employees"]},hasEmployees(){return this.$store.getters["employees/hasEmployees"]},selectedEmpId(){return this.selectedEmployeeId}},async created(){await this.$store.dispatch("employees/loadEmployees",{link:`${localStorage.getItem("comid")}?PageNumber=0&PageSize=10000`}),this.wtDate.val=oa()((new Date).toLocaleDateString().substring(0,10)).format("DD.MM.YYYY");const e=localStorage.getItem("comid");if(e){await this.$store.dispatch("companies/loadCompany",{id:e});const t=(0,as.IU)(this.$store.getters["companies/company"]);this.wtStartTime.val=t.StartTime,this.wtEndTime.val=t.EndTime}const t=localStorage.getItem("empid");if(t){await this.$store.dispatch("employees/loadEmployee",{empid:t});const e=this.$store.getters["employees/employee"];this.employeeId.val=e.ID}}};const kr=(0,ie.Z)(fr,[["render",wr],["__scopeId","data-v-3cbe13c8"]]);var vr=kr,_r={components:{WorkingTimeItem:xn,WorkingTimeFilter:(0,z.RC)((()=>a.e(553).then(a.bind(a,9553)))),WorkingTimeForm:sr,AddWorkingTime:vr},data(){return{isLoading:!1,deleting:!1,editing:!1,creating:!1,wtForDel:null,wtForEdit:null,id:null,link:null,error:null,activeFilters:{pageNumber:0,pageSize:10},show:!1,showAddMultiple:!0}},computed:{hasWorkingTimes(){return!this.isLoading&&this.$store.getters["workingTimes/hasWorkingTimes"]},addMultipleWTsLink(){const e=window.location.pathname.split("/");return`/addmultiplewt/${e[2]}${e[3]?"/"+e[3]:""}`},hasWorkingTime(){return this.$store.getters["workingTimes/hasWorkingTime"]},workingTime(){return this.$store.getters["workingTimes/workingTime"]},filteredWorkingTimes(){return this.$store.getters["workingTimes/workingTimes"]}},watch:{activeFilters(){this.loadWorkingTimes()}},methods:{async close(){this.creating=!1,await this.refresh()},catchError(e){this.error=e},create(){this.creating=!0},cancelEditing(){this.editing=!1},async closeEditor(){this.editing=!1,await this.loadWorkingTime(),await this.refresh()},deleteWT(e){this.deleting=!0,this.wtForDel=e},async editWT(e){this.editing=!0,this.wtForEdit=e,await this.loadWorkingTime()},async deleteWTnow(){try{await this.$store.dispatch("workingTimes/deleteWorkingTime",{id:this.wtForDel}),this.refresh()}catch(e){this.error=e}this.deleting=!1},cancel(){this.deleting=!1},setParams(e){this.activeFilters=e},async loadWorkingTimes(){this.isLoading=!0,localStorage.getItem("empidwt")?(this.id=localStorage.getItem("empidwt"),this.link="workingtime/fromemployee/"):localStorage.getItem("depidwt")?(this.id=localStorage.getItem("depidwt"),this.link="workingtime/fromdepartment/"):localStorage.getItem("comidwt")&&(this.id=localStorage.getItem("comidwt"),this.link="workingtime/fromcompany/");try{await this.$store.dispatch("workingTimes/loadWorkingTimes",{id:this.id,link:this.link,pageNumber:this.activeFilters.pageNumber,pageSize:this.activeFilters.pageSize}),this.show=!0}catch(e){this.error=`${e.message} in getting working times.`||"Something went wrong!"}this.isLoading=!1},async loadWorkingTime(){try{await this.$store.dispatch("workingTimes/loadWorkingTime",this.wtForEdit)}catch(e){this.error=`${e.message} in getting working time.`||"Something went wrong!"}},async refresh(){await this.loadWorkingTimes()},handleError(){this.error=null}},async created(){this.showAddMultiple=13!==window.location.pathname.split("/")[2].length,await this.loadWorkingTimes()}};const Dr=(0,ie.Z)(_r,[["render",Pn],["__scopeId","data-v-b3fe816c"]]);var br=Dr;const Er=(0,z._)("h2",null,"Page not found!",-1),Ir=(0,z._)("br",null,null,-1),Tr=(0,z._)("br",null,null,-1);function Cr(e,t){const a=(0,z.up)("router-link"),i=(0,z.up)("base-card");return(0,z.wg)(),(0,z.iD)("div",null,[(0,z._)("section",null,[(0,z.Wm)(i,null,{default:(0,z.w5)((()=>[Er,(0,z._)("p",null,[(0,z.Uk)(" The page you requested cannot be found."),Ir,Tr,(0,z.Uk)(" Try "),(0,z.Wm)(a,{to:"/auth"},{default:(0,z.w5)((()=>[(0,z.Uk)("logging in")])),_:1}),(0,z.Uk)(" or browsing your "),(0,z.Wm)(a,{to:"/companies"},{default:(0,z.w5)((()=>[(0,z.Uk)("current companies")])),_:1}),(0,z.Uk)(". ")])])),_:1})])])}const Sr={},$r=(0,ie.Z)(Sr,[["render",Cr]]);var Vr=$r;const Nr=(0,z._)("p",null,"You are being logged out...",-1);function jr(e,t,a,i,o,s){const l=(0,z.up)("base-card");return(0,z.wg)(),(0,z.j4)(l,null,{default:(0,z.w5)((()=>[Nr])),_:1})}var Ar={methods:{async logout(){try{this.$store.dispatch("auth/logout")}catch(e){alert(e)}}},async created(){await this.logout(),this.$router.replace("/login")}};const Wr=(0,ie.Z)(Ar,[["render",jr]]);var Ur=Wr;const Fr=(0,o.p7)({history:(0,o.PO)(),routes:[{path:"/",redirect:"/about"},{path:"/addcompany",component:ua,meta:{requiresAuth:!0}},{path:"/installationmanual",component:Tt},{path:"/usermanual",component:qe},{path:"/adddepartment",component:Sa,meta:{requiresAuth:!0}},{path:"/addemployee",component:_i,meta:{requiresAuth:!0}},{path:"/addmultiplewt/:comid",component:fo,meta:{requiresAuth:!0}},{path:"/addmultiplewt/:comid/:depid",component:fo,meta:{requiresAuth:!0}},{path:"/about",component:se},{path:"/auth",component:eo,meta:{requiresUnauth:!0}},{path:"/calculations/:comid",component:Nn,props:!0,meta:{requiresAuth:!0}},{path:"/companies",component:No,meta:{requiresAuth:!0}},{path:"/companies/:comid",component:rs,props:!0,meta:{requiresAuth:!0}},{path:"/departments/:comid/",component:ml,props:!0,meta:{requiresAuth:!0}},{path:"/departments/:comid/:depid",component:Wl,props:!0,meta:{requiresAuth:!0}},{path:"/employees/:comid",component:Ls,props:!0,meta:{requiresAuth:!0}},{path:"/employees/:comid/:depid",component:Ls,props:!0,meta:{requiresAuth:!0}},{path:"/employeedetails/:empid",component:Js,props:!0,meta:{requiresAuth:!0}},{path:"/generate/:comid",component:ws,props:!0,meta:{requiresAuth:!0}},{path:"/login",component:xl,meta:{requiresUnauth:!0}},{path:"/editprofile",component:Ds,meta:{requiresAuth:!0}},{path:"/logout",component:Ur,meta:{requiresAuth:!0}},{path:"/register/",component:Gi,meta:{requiresUnauth:!0}},{path:"/workingtimes/:comid",component:br,props:!0,meta:{requiresAuth:!0}},{path:"/workingtimes/:comid/:depid",component:br,props:!0,meta:{requiresAuth:!0}},{path:"/:notFOund(.*)",component:Vr}]});Fr.beforeEach((function(e,t,a){e.meta.requiresAuth&&!O.getters["auth/isAuthenticated"]?a("/auth"):e.meta.requiresUnauth&&O.getters["auth/isAuthenticated"]?a("/logout"):a()}));var Lr=Fr;function Mr(e,t,a,o,s,l){const n=(0,z.up)("the-header"),r=(0,z.up)("router-view");return(0,z.wg)(),(0,z.iD)(z.HY,null,[(0,z.Wm)(n),(0,z.Wm)(r,null,{default:(0,z.w5)((e=>[(0,z.Wm)(i.uT,{name:"route",mode:"out-in"},{default:(0,z.w5)((()=>[((0,z.wg)(),(0,z.j4)((0,z.LL)(e.Component)))])),_:2},1024)])),_:1})],64)}const Pr=e=>((0,z.dD)("data-v-3d5c48ec"),e=e(),(0,z.Cn)(),e),Or=Pr((()=>(0,z._)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"},null,-1))),zr=Pr((()=>(0,z._)("input",{id:"menu-toggle",type:"checkbox"},null,-1))),qr=Pr((()=>(0,z._)("label",{class:"menu-button-container",for:"menu-toggle"},[(0,z._)("div",{class:"menu-button"})],-1))),Br={class:"menu"},xr={key:0},Yr={key:1},Rr={key:2},Hr={key:3},Zr={key:4},Jr={key:5};function Gr(e,t,a,i,o,s){const l=(0,z.up)("router-link");return(0,z.wg)(),(0,z.iD)(z.HY,null,[Or,(0,z._)("header",null,[(0,z._)("nav",null,[(0,z._)("h2",null,[(0,z.Wm)(l,{to:"/about"},{default:(0,z.w5)((()=>[(0,z.Uk)("Readme")])),_:1})]),zr,qr,(0,z._)("ul",Br,[s.isLoggedIn?((0,z.wg)(),(0,z.iD)("li",xr,[(0,z.Wm)(l,{to:"/companies"},{default:(0,z.w5)((()=>[(0,z.Uk)("All Companies")])),_:1})])):(0,z.kq)("",!0),s.hasComId&&s.isLoggedIn?((0,z.wg)(),(0,z.iD)("li",Yr,[(0,z.Wm)(l,{to:s.depIdLink},{default:(0,z.w5)((()=>[(0,z.Uk)("All Departments")])),_:1},8,["to"])])):(0,z.kq)("",!0),s.hasComId&&s.isLoggedIn?((0,z.wg)(),(0,z.iD)("li",Rr,[(0,z.Wm)(l,{to:s.empIdLink},{default:(0,z.w5)((()=>[(0,z.Uk)("All Employees")])),_:1},8,["to"])])):(0,z.kq)("",!0),s.isLoggedIn?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("li",Hr,[(0,z.Wm)(l,{to:"/auth"},{default:(0,z.w5)((()=>[(0,z.Uk)("Login/Signup")])),_:1})])),s.isLoggedIn?((0,z.wg)(),(0,z.iD)("li",Zr,[(0,z.Wm)(l,{to:"/logout"},{default:(0,z.w5)((()=>[(0,z.Uk)("Logout")])),_:1})])):(0,z.kq)("",!0),s.isLoggedIn?((0,z.wg)(),(0,z.iD)("li",Jr,[(0,z.Wm)(l,{to:"/editprofile"},{default:(0,z.w5)((()=>[(0,z.Uk)("Edit profile")])),_:1})])):(0,z.kq)("",!0)])])])],64)}var Kr={mounted(){const e=document.getElementById("menu-toggle"),t=document.querySelectorAll(".menu li");t.forEach((t=>{t.addEventListener("click",(()=>{e.checked=!1}))}))},data(){return{comid:null}},computed:{isLoggedIn(){return this.$store.getters["auth/isAuthenticated"]},hasComId(){return this.comid},hasDepId(){return this.depid},depIdLink(){return`/departments/${this.comid}`},hasEmpId(){return this.empid},empIdLink(){return`/employees/${this.comid}`}},methods:{checkLocalStorage(){setInterval((()=>{this.comid=localStorage.getItem("comid")?localStorage.getItem("comid"):null}),200)},async logout(){await this.$store.dispatch("auth/logout"),this.$router.replace("/auth")}},created(){this.checkLocalStorage()}};const Qr=(0,ie.Z)(Kr,[["render",Gr],["__scopeId","data-v-3d5c48ec"]]);var Xr=Qr,ed={components:{TheHeader:Xr},async created(){this.checkStorage()?await this.$store.dispatch("auth/setUserData",{id:localStorage.getItem("userId"),token:localStorage.getItem("token"),refreshToken:localStorage.getItem("refreshToken"),expiresAt:localStorage.getItem("expiresAt")}):this.clearStorageRemains()},methods:{checkStorage(){return!!localStorage.getItem("userId")&&!!localStorage.getItem("token")&&!!localStorage.getItem("refreshToken")&&!!localStorage.getItem("expiresAt")},clearStorageRemains(){localStorage.removeItem("userId"),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("expiresAt")}}};const td=(0,ie.Z)(ed,[["render",Mr]]);var ad=td;const id={class:"card"};function od(e,t){return(0,z.wg)(),(0,z.iD)("div",id,[(0,z.WI)(e.$slots,"default",{},void 0,!0)])}const sd={},ld=(0,ie.Z)(sd,[["render",od],["__scopeId","data-v-35e76af1"]]);var nd=ld;const rd=["type"];function dd(e,t,a,i,o,s){const l=(0,z.up)("router-link");return(0,z.wg)(),(0,z.iD)("div",null,[a.link?((0,z.wg)(),(0,z.j4)(l,{key:1,to:a.to,class:(0,Ct.C_)(a.mode)},{default:(0,z.w5)((()=>[(0,z.WI)(e.$slots,"default",{},void 0,!0)])),_:3},8,["to","class"])):((0,z.wg)(),(0,z.iD)("button",{key:0,type:a.type,class:(0,Ct.C_)(a.mode)},[(0,z.WI)(e.$slots,"default",{},void 0,!0)],10,rd))])}var md={props:{mode:{type:String,required:!1,default:null},type:{type:String,required:!1,default:"submit"},link:{type:Boolean,required:!1,default:!1},to:{type:String,required:!1,default:"/"}}};const ud=(0,ie.Z)(md,[["render",dd],["__scopeId","data-v-2dccdb9c"]]);var cd=ud;const pd=e=>((0,z.dD)("data-v-eafa7164"),e=e(),(0,z.Cn)(),e),hd={class:"spinner"},yd=pd((()=>(0,z._)("div",{class:"lds-roller"},[(0,z._)("div"),(0,z._)("div"),(0,z._)("div"),(0,z._)("div"),(0,z._)("div"),(0,z._)("div"),(0,z._)("div"),(0,z._)("div")],-1))),gd=[yd];function wd(e,t){return(0,z.wg)(),(0,z.iD)("div",hd,gd)}const fd={},kd=(0,ie.Z)(fd,[["render",wd],["__scopeId","data-v-eafa7164"]]);var vd=kd;const _d={key:0,open:""},Dd={key:0};function bd(e,t,a,o,s,l){const n=(0,z.up)("base-button");return(0,z.wg)(),(0,z.j4)(z.lR,{to:"body"},[a.show?((0,z.wg)(),(0,z.iD)("div",{key:0,onClick:t[0]||(t[0]=(...e)=>l.tryClose&&l.tryClose(...e)),showClose:!0,class:"backdrop"})):(0,z.kq)("",!0),(0,z.Wm)(i.uT,{name:"dialog"},{default:(0,z.w5)((()=>[a.show?((0,z.wg)(),(0,z.iD)("dialog",_d,[(0,z._)("header",null,[(0,z.WI)(e.$slots,"header",{},(()=>[(0,z._)("h2",null,(0,Ct.zw)(a.title),1)]),!0)]),(0,z._)("section",null,[(0,z.WI)(e.$slots,"default",{},void 0,!0)]),a.fixed?(0,z.kq)("",!0):((0,z.wg)(),(0,z.iD)("menu",Dd,[this.showClose?(0,z.WI)(e.$slots,"actions",{key:0},(()=>[(0,z.Wm)(n,{onClick:l.tryClose},{default:(0,z.w5)((()=>[(0,z.Uk)("Close")])),_:1},8,["onClick"])]),!0):(0,z.kq)("",!0)]))])):(0,z.kq)("",!0)])),_:3})])}var Ed={props:{show:{type:Boolean,required:!0},title:{type:String,required:!1},fixed:{type:Boolean,required:!1,default:!1},showClose:{type:Boolean,required:!0}},emits:["close"],methods:{tryClose(){this.fixed||this.$emit("close")}}};const Id=(0,ie.Z)(Ed,[["render",bd],["__scopeId","data-v-82d36630"]]);var Td=Id;const Cd=(0,i.ri)(ad);Cd.use(Lr),Cd.use(O),Cd.use(sa),Cd.component("base-card",nd),Cd.component("base-button",cd),Cd.component("base-spinner",vd),Cd.component("base-dialog",Td),Cd.mount("#app")}},t={};function a(i){var o=t[i];if(void 0!==o)return o.exports;var s=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(s.exports,s,s.exports,a),s.loaded=!0,s.exports}a.m=e,function(){var e=[];a.O=function(t,i,o,s){if(!i){var l=1/0;for(m=0;m<e.length;m++){i=e[m][0],o=e[m][1],s=e[m][2];for(var n=!0,r=0;r<i.length;r++)(!1&s||l>=s)&&Object.keys(a.O).every((function(e){return a.O[e](i[r])}))?i.splice(r--,1):(n=!1,s<l&&(l=s));if(n){e.splice(m--,1);var d=o();void 0!==d&&(t=d)}}return t}s=s||0;for(var m=e.length;m>0&&e[m-1][2]>s;m--)e[m]=e[m-1];e[m]=[i,o,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,i){return a.f[i](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+"."+{161:"ab6596c5",553:"6c9a689b"}[e]+".js"}}(),function(){a.miniCssF=function(e){return"css/"+e+"."+{161:"15a4caf7",553:"16b93c60"}[e]+".css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="time-sheet-spa:";a.l=function(i,o,s,l){if(e[i])e[i].push(o);else{var n,r;if(void 0!==s)for(var d=document.getElementsByTagName("script"),m=0;m<d.length;m++){var u=d[m];if(u.getAttribute("src")==i||u.getAttribute("data-webpack")==t+s){n=u;break}}n||(r=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,a.nc&&n.setAttribute("nonce",a.nc),n.setAttribute("data-webpack",t+s),n.src=i),e[i]=[o];var c=function(t,a){n.onerror=n.onload=null,clearTimeout(p);var o=e[i];if(delete e[i],n.parentNode&&n.parentNode.removeChild(n),o&&o.forEach((function(e){return e(a)})),t)return t(a)},p=setTimeout(c.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=c.bind(null,n.onerror),n.onload=c.bind(null,n.onload),r&&document.head.appendChild(n)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,a,i,o){var s=document.createElement("link");s.rel="stylesheet",s.type="text/css";var l=function(a){if(s.onerror=s.onload=null,"load"===a.type)i();else{var l=a&&("load"===a.type?"missing":a.type),n=a&&a.target&&a.target.href||t,r=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");r.code="CSS_CHUNK_LOAD_FAILED",r.type=l,r.request=n,s.parentNode&&s.parentNode.removeChild(s),o(r)}};return s.onerror=s.onload=l,s.href=t,a?a.parentNode.insertBefore(s,a.nextSibling):document.head.appendChild(s),s},t=function(e,t){for(var a=document.getElementsByTagName("link"),i=0;i<a.length;i++){var o=a[i],s=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(s===e||s===t))return o}var l=document.getElementsByTagName("style");for(i=0;i<l.length;i++){o=l[i],s=o.getAttribute("data-href");if(s===e||s===t)return o}},i=function(i){return new Promise((function(o,s){var l=a.miniCssF(i),n=a.p+l;if(t(l,n))return o();e(i,n,null,o,s)}))},o={143:0};a.f.miniCss=function(e,t){var a={161:1,553:1};o[e]?t.push(o[e]):0!==o[e]&&a[e]&&t.push(o[e]=i(e).then((function(){o[e]=0}),(function(t){throw delete o[e],t})))}}}(),function(){var e={143:0};a.f.j=function(t,i){var o=a.o(e,t)?e[t]:void 0;if(0!==o)if(o)i.push(o[2]);else{var s=new Promise((function(a,i){o=e[t]=[a,i]}));i.push(o[2]=s);var l=a.p+a.u(t),n=new Error,r=function(i){if(a.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var s=i&&("load"===i.type?"missing":i.type),l=i&&i.target&&i.target.src;n.message="Loading chunk "+t+" failed.\n("+s+": "+l+")",n.name="ChunkLoadError",n.type=s,n.request=l,o[1](n)}};a.l(l,r,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,i){var o,s,l=i[0],n=i[1],r=i[2],d=0;if(l.some((function(t){return 0!==e[t]}))){for(o in n)a.o(n,o)&&(a.m[o]=n[o]);if(r)var m=r(a)}for(t&&t(i);d<l.length;d++)s=l[d],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(m)},i=self["webpackChunktime_sheet_spa"]=self["webpackChunktime_sheet_spa"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=a.O(void 0,[998],(function(){return a(8096)}));i=a.O(i)})();
//# sourceMappingURL=app.e104ef23.js.map